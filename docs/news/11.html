
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>News - 11 series &#8212; Groonga v13.1.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=bd9e20870c6007c4c509" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=bd9e20870c6007c4c509" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=bd9e20870c6007c4c509" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=bd9e20870c6007c4c509" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=bd9e20870c6007c4c509" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=bd9e20870c6007c4c509" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=bd9e20870c6007c4c509"></script>

    <script src="../_static/documentation_options.js?v=224af3c6"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-7532323-1"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'UA-7532323-1');
            </script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'UA-7532323-1');
            </script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'news/11';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://groonga.org/docs/_static/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'english';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = false;
        </script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <header>
  
    <div class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

   

<a class="navbar-brand logo" href="https://groonga.org/">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/groonga.png" class="logo__image only-light" alt="Groonga v13.1.1 documentation - Home"/>
    <script>document.write(`<img src="../_static/groonga.png" class="logo__image only-dark" alt="Groonga v13.1.1 documentation - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/groonga/groonga" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/groonga" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="/blog" title="Blog" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fas fa-blog fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Blog</span></a>
        </li>
</ul></div>
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </div>
  
  </header>

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/groonga/groonga" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/groonga" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="/blog" title="Blog" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fas fa-blog fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Blog</span></a>
        </li>
</ul></div>
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-3"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-3"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-3"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-3">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">News - 11 series</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="news-11-series">
<h1>News - 11 series<a class="headerlink" href="#news-11-series" title="Link to this heading">#</a></h1>
<section id="release-11-1-3-2022-01-29">
<span id="release-11-1-3"></span><h2>Release 11.1.3 - 2022-01-29<a class="headerlink" href="#release-11-1-3-2022-01-29" title="Link to this heading">#</a></h2>
<section id="improvements">
<h3>Improvements<a class="headerlink" href="#improvements" title="Link to this heading">#</a></h3>
<ul>
<li><p>[<a class="reference internal" href="../reference/functions/snippet.html"><span class="doc">snippet</span></a>] Added support for using the keyword of 32 or more. [GitHub#1313][Pathched by Takashi Hashida]</p>
<p>We could not specify the keyword of 32 or more with <code class="docutils literal notranslate"><span class="pre">snippet</span></code> until now.
However, we can specify the keyword of 32 or more by this improvement as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Entries</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Entries</span> <span class="n">content</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Entries</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Groonga is a fast and accurate full text search engine based on inverted index. One of the characteristics of Groonga is that a newly registered document instantly appears in search results. Also, Groonga allows updates without read locks. These characteristics result in superior performance on real-time applications.</span><span class="se">\n</span><span class="s2">Groonga is also a column-oriented database management system (DBMS). Compared with well-known row-oriented systems, such as MySQL and PostgreSQL, column-oriented systems are more suited for aggregate queries. Due to this advantage, Groonga can cover weakness of row-oriented systems.</span><span class="se">\n</span><span class="s2">The basic functions of Groonga are provided in a C library. Also, libraries for using Groonga in other languages, such as Ruby, are provided by related projects. In addition, groonga-based storage engines are provided for MySQL and PostgreSQL. These libraries and storage engines allow any application to use Groonga. See usage examples.&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;In widely used DBMSs, updates are immediately processed, for example, a newly registered record appears in the result of the next query. In contrast, some full text search engines do not support instant updates, because it is difficult to dynamically update inverted indexes, the underlying data structure.</span><span class="se">\n</span><span class="s2">Groonga also uses inverted indexes but supports instant updates. In addition, Groonga allows you to search documents even when updating the document collection. Due to these superior characteristics, Groonga is very flexible as a full text search engine. Also, Groonga always shows good performance because it divides a large task, inverted index merging, into smaller tasks.&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="s1">&#39; </span><span class="se">\</span>
<span class="s1">  snippet(content, </span><span class="se">\</span>
<span class="s1">  &quot;groonga&quot;, &quot;inverted&quot;, &quot;index&quot;, &quot;fast&quot;, &quot;full&quot;, &quot;text&quot;, &quot;search&quot;, &quot;engine&quot;, &quot;registered&quot;, &quot;document&quot;, </span><span class="se">\</span>
<span class="s1">  &quot;results&quot;, &quot;appears&quot;, &quot;also&quot;, &quot;system&quot;, &quot;libraries&quot;, &quot;for&quot;, &quot;mysql&quot;, &quot;postgresql&quot;, &quot;column-oriented&quot;, &quot;dbms&quot;, </span><span class="se">\</span>
<span class="s1">  &quot;basic&quot;, &quot;ruby&quot;, &quot;projects&quot;, &quot;storage&quot;, &quot;allow&quot;, &quot;application&quot;, &quot;usage&quot;, &quot;sql&quot;, &quot;well-known&quot;, &quot;real-time&quot;, </span><span class="se">\</span>
<span class="s1">  &quot;weakness&quot;, &quot;merging&quot;, &quot;performance&quot;, &quot;superior&quot;, &quot;large&quot;, &quot;dynamically&quot;, &quot;difficult&quot;, &quot;query&quot;, &quot;examples&quot;, &quot;divides&quot;, </span><span class="se">\</span>
<span class="s1">  { </span><span class="se">\</span>
<span class="s1">    &quot;default_open_tag&quot;: &quot;[&quot;, </span><span class="se">\</span>
<span class="s1">    &quot;default_close_tag&quot;: &quot;]&quot;, </span><span class="se">\</span>
<span class="s1">    &quot;width&quot; : 2048 </span><span class="se">\</span>
<span class="s1">  })&#39;</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">1643165838.691991</span><span class="p">,</span>
    <span class="mf">0.0003311634063720703</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">2</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;snippet&quot;</span><span class="p">,</span>
          <span class="n">null</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;[Groonga] is a [fast] and accurate [full] [text] [search] [engine] based on [inverted] [index]. One of the characteristics of [Groonga] is that a newly [registered] [document] instantly [appears] in [search] [results]. [Also], [Groonga] [allow]s updates without read locks. These characteristics result in [superior] [performance] on [real-time] [application]s.</span><span class="se">\n</span><span class="s2">[Groonga] is [also] a [column-oriented] database management [system] ([DBMS]). Compared with [well-known] row-oriented [system]s, such as [MySQL] and [PostgreSQL], [column-oriented] [system]s are more suited [for] aggregate queries. Due to this advantage, [Groonga] can cover [weakness] of row-oriented [system]s.</span><span class="se">\n</span><span class="s2">The [basic] functions of [Groonga] are provided in a C library. [Also], [libraries] [for] using [Groonga] in other languages, such as [Ruby], are provided by related [projects]. In addition, [groonga]-based [storage] [engine]s are provided [for] [MySQL] and [PostgreSQL]. These [libraries] and [storage] [engine]s [allow] any [application] to use [Groonga]. See [usage] [examples].&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;In widely used [DBMS]s, updates are immediately processed, [for] example, a newly [registered] record [appears] in the result of the next [query]. In contrast, some [full] [text] [search] [engine]s do not support instant updates, because it is [difficult] to [dynamically] update [inverted] [index]es, the underlying data structure.</span><span class="se">\n</span><span class="s2">[Groonga] [also] uses [inverted] [index]es but supports instant updates. In addition, [Groonga] [allow]s you to [search] [document]s even when updating the [document] collection. Due to these [superior] characteristics, [Groonga] is very flexible as a [full] [text] [search] [engine]. [Also], [Groonga] always shows good [performance] because it [divides] a [large] task, [inverted] [index] [merging], into smaller tasks.&quot;</span>
        <span class="p">]</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>[<a class="reference internal" href="../reference/normalizers/normalizer_nfkc130.html"><span class="doc">NormalizerNFKC130</span></a>] Added a new option <code class="docutils literal notranslate"><span class="pre">remove_symbol</span></code>.</p>
<p>This option removes symbols (e.g. #, !, “, &amp;, %, …) from the string that the target of normalizing as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">normalize</span>   <span class="s1">&#39;NormalizerNFKC130(&quot;remove_symbol&quot;, true)&#39;</span>   <span class="s2">&quot;#This &amp; is </span><span class="si">%%</span><span class="s2"> a pen.&quot;</span>   <span class="n">WITH_TYPES</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">1643595008.729597</span><span class="p">,</span>
    <span class="mf">0.0005540847778320312</span>
  <span class="p">],</span>
  <span class="p">{</span>
    <span class="s2">&quot;normalized&quot;</span><span class="p">:</span> <span class="s2">&quot;this  is  a pen&quot;</span><span class="p">,</span>
    <span class="s2">&quot;types&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;alpha&quot;</span><span class="p">,</span>
      <span class="s2">&quot;alpha&quot;</span><span class="p">,</span>
      <span class="s2">&quot;alpha&quot;</span><span class="p">,</span>
      <span class="s2">&quot;alpha&quot;</span><span class="p">,</span>
      <span class="s2">&quot;others&quot;</span><span class="p">,</span>
      <span class="s2">&quot;others&quot;</span><span class="p">,</span>
      <span class="s2">&quot;alpha&quot;</span><span class="p">,</span>
      <span class="s2">&quot;alpha&quot;</span><span class="p">,</span>
      <span class="s2">&quot;others&quot;</span><span class="p">,</span>
      <span class="s2">&quot;others&quot;</span><span class="p">,</span>
      <span class="s2">&quot;alpha&quot;</span><span class="p">,</span>
      <span class="s2">&quot;others&quot;</span><span class="p">,</span>
      <span class="s2">&quot;alpha&quot;</span><span class="p">,</span>
      <span class="s2">&quot;alpha&quot;</span><span class="p">,</span>
      <span class="s2">&quot;alpha&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;checks&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>[<a class="reference internal" href="../install/almalinux.html"><span class="doc">AlmaLinux</span></a>] Added support for AlmaLinux 8 on ARM64.</p></li>
<li><p>[httpd] Updated bundled nginx to 1.21.5.</p></li>
<li><p>[Documentation] Fixed a typo in <a class="reference internal" href="../reference/commands/ruby_eval.html"><span class="doc">ruby_eval</span></a>. [GitHub#1317][Pathched by wi24rd]</p></li>
<li><p>[<a class="reference internal" href="../install/ubuntu.html"><span class="doc">Ubuntu</span></a>] Dropped Ubuntu 21.04 (Hirsute Hippo) support.</p>
<ul class="simple">
<li><p>Because Ubuntu 21.04 reached EOL January 20, 2022.</p></li>
</ul>
</li>
</ul>
</section>
<section id="fixes">
<h3>Fixes<a class="headerlink" href="#fixes" title="Link to this heading">#</a></h3>
<ul>
<li><p>[<a class="reference internal" href="../reference/commands/load.html"><span class="doc">load</span></a>] Fixed a crash bug when we load data with specifying a nonexistent column.</p>
<p>This bug only occurs when we specify <code class="docutils literal notranslate"><span class="pre">apache-arrow</span></code> into <code class="docutils literal notranslate"><span class="pre">input_type</span></code> as the argument of <code class="docutils literal notranslate"><span class="pre">load</span></code>.</p>
</li>
<li><p>Fixed a bug that the version up of Groonga failed Because the version up of arrow-libs on which Groonga depends. [groonga-talk,540][Reported by Josep Sanz][Gitter,61eaaa306d9ba23328d23ce1][Reported by shibanao4870][GitHub#1316][Reported by Keitaro YOSHIMURA]</p>
<p>However, if arrow-libs update a major version, this problem reproduces.
In this case, we will handle that by rebuilding the Groonga package.</p>
</li>
</ul>
</section>
<section id="known-issues">
<h3>Known Issues<a class="headerlink" href="#known-issues" title="Link to this heading">#</a></h3>
<ul>
<li><p>Currently, Groonga has a bug that there is possible that data is corrupt when we execute many additions, delete, and update data to vector column.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">*&gt;</span></code> only valid when we use <code class="docutils literal notranslate"><span class="pre">query()</span></code> the right side of filter condition.
If we specify as below, <code class="docutils literal notranslate"><span class="pre">*&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">*&gt;</span></code> work as <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Groonga&quot;</span> <span class="pre">*&lt;</span> <span class="pre">content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Mroonga&quot;'</span></code></p></li>
</ul>
</div></blockquote>
</li>
<li><p>Groonga may not return records that should match caused by <code class="docutils literal notranslate"><span class="pre">GRN_II_CURSOR_SET_MIN_ENABLE</span></code>.</p></li>
</ul>
</section>
<section id="thanks">
<h3>Thanks<a class="headerlink" href="#thanks" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Takashi Hashida</p></li>
<li><p>wi24rd</p></li>
<li><p>Josep Sanz</p></li>
<li><p>Keitaro YOSHIMURA</p></li>
<li><p>shibanao4870</p></li>
</ul>
</section>
</section>
<section id="release-11-1-1-2021-12-29">
<span id="release-11-1-1"></span><h2>Release 11.1.1 - 2021-12-29<a class="headerlink" href="#release-11-1-1-2021-12-29" title="Link to this heading">#</a></h2>
<section id="id1">
<h3>Improvements<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<ul>
<li><p>[<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>] Added support for near phrase product search.</p>
<p>This feature is a shortcut of <code class="docutils literal notranslate"><span class="pre">'*NP&quot;...&quot;</span> <span class="pre">OR</span> <span class="pre">*NP&quot;...&quot;</span> <span class="pre">OR</span> <span class="pre">...'</span></code>.
For example, we can use <code class="docutils literal notranslate"><span class="pre">*NPP</span></code> instead of the expression that execute mulitiple
<code class="docutils literal notranslate"><span class="pre">*NP</span></code> with <code class="docutils literal notranslate"><span class="pre">query</span></code> as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">query</span> <span class="p">(</span><span class="s2">&quot;title * 10 || content&quot;</span><span class="p">,</span>
       <span class="s2">&quot;*NP&quot;</span><span class="n">a</span> <span class="mi">1</span> <span class="n">x</span><span class="s2">&quot; OR</span>
        <span class="o">*</span><span class="n">NP</span><span class="s2">&quot;a 1 y&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">NP</span><span class="s2">&quot;a 1 z&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">NP</span><span class="s2">&quot;a 2 x&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">NP</span><span class="s2">&quot;a 2 y&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">NP</span><span class="s2">&quot;a 2 z&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">NP</span><span class="s2">&quot;a 3 x&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">NP</span><span class="s2">&quot;a 3 y&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">NP</span><span class="s2">&quot;a 3 z&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">NP</span><span class="s2">&quot;b 1 x&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">NP</span><span class="s2">&quot;b 1 y&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">NP</span><span class="s2">&quot;b 1 z&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">NP</span><span class="s2">&quot;b 2 x&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">NP</span><span class="s2">&quot;b 2 y&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">NP</span><span class="s2">&quot;b 2 z&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">NP</span><span class="s2">&quot;b 3 x&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">NP</span><span class="s2">&quot;b 3 y&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">NP</span><span class="s2">&quot;b 3 z&quot;&quot;)</span>
</pre></div>
</div>
<p>We can be written as <code class="docutils literal notranslate"><span class="pre">*NPP&quot;(a</span> <span class="pre">b)</span> <span class="pre">(1</span> <span class="pre">2</span> <span class="pre">3)</span> <span class="pre">(x</span> <span class="pre">y</span> <span class="pre">z)&quot;</span></code> the above expression by this feature.
In addition, <code class="docutils literal notranslate"><span class="pre">*NPP&quot;(a</span> <span class="pre">b)</span> <span class="pre">(1</span> <span class="pre">2</span> <span class="pre">3)</span> <span class="pre">(x</span> <span class="pre">y</span> <span class="pre">z)&quot;</span></code> is faster than <code class="docutils literal notranslate"><span class="pre">'*NP&quot;...&quot;</span> <span class="pre">OR</span> <span class="pre">*NP&quot;...&quot;</span> <span class="pre">OR</span> <span class="pre">...'</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">query</span> <span class="p">(</span><span class="s2">&quot;title * 10 || content&quot;</span><span class="p">,</span>
       <span class="s2">&quot;*NPP&quot;</span><span class="p">(</span><span class="n">a</span> <span class="n">b</span><span class="p">)</span> <span class="p">(</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">)</span> <span class="p">(</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="p">)</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>We implements this feature for improving performance near phrase search
like <code class="docutils literal notranslate"><span class="pre">'*NP&quot;...&quot;</span> <span class="pre">OR</span> <span class="pre">*NP&quot;...&quot;</span> <span class="pre">OR</span> <span class="pre">...'</span></code>.</p>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>] Added support for order near phrase product search.</p>
<p>This feature is a shortcut of <code class="docutils literal notranslate"><span class="pre">'*ONP&quot;...&quot;</span> <span class="pre">OR</span> <span class="pre">*ONP&quot;...&quot;</span> <span class="pre">OR</span> <span class="pre">...'</span></code>.
For example, we can use <code class="docutils literal notranslate"><span class="pre">*ONPP</span></code> instead of the expression that execute multiple
<code class="docutils literal notranslate"><span class="pre">*ONP</span></code> with <code class="docutils literal notranslate"><span class="pre">query</span></code> as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">query</span> <span class="p">(</span><span class="s2">&quot;title * 10 || content&quot;</span><span class="p">,</span>
       <span class="s2">&quot;*ONP&quot;</span><span class="n">a</span> <span class="mi">1</span> <span class="n">x</span><span class="s2">&quot; OR</span>
        <span class="o">*</span><span class="n">ONP</span><span class="s2">&quot;a 1 y&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">ONP</span><span class="s2">&quot;a 1 z&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">ONP</span><span class="s2">&quot;a 2 x&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">ONP</span><span class="s2">&quot;a 2 y&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">ONP</span><span class="s2">&quot;a 2 z&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">ONP</span><span class="s2">&quot;a 3 x&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">ONP</span><span class="s2">&quot;a 3 y&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">ONP</span><span class="s2">&quot;a 3 z&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">ONP</span><span class="s2">&quot;b 1 x&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">ONP</span><span class="s2">&quot;b 1 y&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">ONP</span><span class="s2">&quot;b 1 z&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">ONP</span><span class="s2">&quot;b 2 x&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">ONP</span><span class="s2">&quot;b 2 y&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">ONP</span><span class="s2">&quot;b 2 z&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">ONP</span><span class="s2">&quot;b 3 x&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">ONP</span><span class="s2">&quot;b 3 y&quot;</span> <span class="n">OR</span>
        <span class="o">*</span><span class="n">ONP</span><span class="s2">&quot;b 3 z&quot;&quot;)</span>
</pre></div>
</div>
<p>We can be written as <code class="docutils literal notranslate"><span class="pre">*ONPP&quot;(a</span> <span class="pre">b)</span> <span class="pre">(1</span> <span class="pre">2</span> <span class="pre">3)</span> <span class="pre">(x</span> <span class="pre">y</span> <span class="pre">z)&quot;</span></code> the above expression by this feature.
In addition, <code class="docutils literal notranslate"><span class="pre">*ONPP&quot;(a</span> <span class="pre">b)</span> <span class="pre">(1</span> <span class="pre">2</span> <span class="pre">3)</span> <span class="pre">(x</span> <span class="pre">y</span> <span class="pre">z)&quot;</span></code> is faster than <code class="docutils literal notranslate"><span class="pre">'*ONP&quot;...&quot;</span> <span class="pre">OR</span> <span class="pre">*ONP&quot;...&quot;</span> <span class="pre">OR</span> <span class="pre">...'</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">query</span> <span class="p">(</span><span class="s2">&quot;title * 10 || content&quot;</span><span class="p">,</span>
       <span class="s2">&quot;*ONPP&quot;</span><span class="p">(</span><span class="n">a</span> <span class="n">b</span><span class="p">)</span> <span class="p">(</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">)</span> <span class="p">(</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="p">)</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>We implements this feature for improving performance near phrase search
like <code class="docutils literal notranslate"><span class="pre">'*ONP&quot;...&quot;</span> <span class="pre">OR</span> <span class="pre">*ONP&quot;...&quot;</span> <span class="pre">OR</span> <span class="pre">...'</span></code>.</p>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/request_cancel.html"><span class="doc">request_cancel</span></a>] Groonga became easily detects <code class="docutils literal notranslate"><span class="pre">request_cancel</span></code> while executing a search.</p>
<p>Because we added more checks of return code to detect <code class="docutils literal notranslate"><span class="pre">request_cancel</span></code>.</p>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/thread_dump.html"><span class="doc">thread_dump</span></a>] Added a new command <code class="docutils literal notranslate"><span class="pre">thread_dump</span></code></p>
<p>Currently, this command works only on Windows.</p>
<p>We can put a backtrace of all threads into a log as logs of NOTICE level
at the time of running this command.</p>
<p>This feature is useful when we solve a problem such as Groonga doesn’t return a response.</p>
</li>
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>] Dropped support for CentOS 8.</p>
<p>Because CentOS 8 will reach EOL at 2021-12-31.</p>
</li>
</ul>
</section>
<section id="id2">
<h3>Fixes<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<ul>
<li><p>Fixed a bug that we can’t remove a index column with invalid parameter. [GitHub#1301][Patched by Takashi Hashida]</p>
<ul>
<li><p>For example, we can’t remove a table when we create an invalid index column with <code class="docutils literal notranslate"><span class="pre">column_create</span></code> as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Statuses</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Statuses</span> <span class="n">start_time</span> <span class="n">COLUMN_SCALAR</span> <span class="n">UInt16</span>
<span class="n">column_create</span> <span class="n">Statuses</span> <span class="n">end_time</span> <span class="n">COLUMN_SCALAR</span> <span class="n">UInt16</span>

<span class="n">table_create</span> <span class="n">Times</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">UInt16</span>
<span class="n">column_create</span> <span class="n">Times</span> <span class="n">statuses</span> <span class="n">COLUMN_INDEX</span> <span class="n">Statuses</span> <span class="n">start_time</span><span class="p">,</span><span class="n">end_time</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="o">-</span><span class="mi">22</span><span class="p">,</span>
    <span class="mf">1639037503.16114</span><span class="p">,</span>
    <span class="mf">0.003981828689575195</span><span class="p">,</span>
    <span class="s2">&quot;grn_obj_set_info(): GRN_INFO_SOURCE: multi column index must be created with WITH_SECTION flag: &lt;Times.statuses&gt;&quot;</span><span class="p">,</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="s2">&quot;grn_obj_set_info_source_validate&quot;</span><span class="p">,</span>
        <span class="s2">&quot;../../groonga/lib/db.c&quot;</span><span class="p">,</span>
        <span class="mi">9605</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;/tmp/d.grn&quot;</span><span class="p">,</span>
        <span class="mi">6</span><span class="p">,</span>
        <span class="s2">&quot;column_create Times statuses COLUMN_INDEX Statuses start_time,end_time&quot;</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">],</span>
  <span class="n">false</span>
<span class="p">]</span>
<span class="n">table_remove</span> <span class="n">Times</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="o">-</span><span class="mi">22</span><span class="p">,</span>
    <span class="mf">1639037503.16515</span><span class="p">,</span>
    <span class="mf">0.0005414485931396484</span><span class="p">,</span>
    <span class="s2">&quot;[object][remove] column is broken: &lt;Times.statuses&gt;&quot;</span><span class="p">,</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="s2">&quot;remove_columns&quot;</span><span class="p">,</span>
        <span class="s2">&quot;../../groonga/lib/db.c&quot;</span><span class="p">,</span>
        <span class="mi">10649</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;/tmp/d.grn&quot;</span><span class="p">,</span>
        <span class="mi">8</span><span class="p">,</span>
        <span class="s2">&quot;table_remove Times&quot;</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">],</span>
  <span class="n">false</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
</section>
<section id="id3">
<h3>Known Issues<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<ul>
<li><p>Currently, Groonga has a bug that there is possible that data is corrupt when we execute many additions, delete, and update data to vector column.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">*&gt;</span></code> only valid when we use <code class="docutils literal notranslate"><span class="pre">query()</span></code> the right side of filter condition.
If we specify as below, <code class="docutils literal notranslate"><span class="pre">*&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">*&gt;</span></code> work as <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Groonga&quot;</span> <span class="pre">*&lt;</span> <span class="pre">content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Mroonga&quot;'</span></code></p></li>
</ul>
</div></blockquote>
</li>
<li><p>Groonga may not return records that should match caused by <code class="docutils literal notranslate"><span class="pre">GRN_II_CURSOR_SET_MIN_ENABLE</span></code>.</p></li>
</ul>
</section>
<section id="id4">
<h3>Thanks<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Takashi Hashida</p></li>
</ul>
</section>
</section>
<section id="release-11-1-0-2021-11-29">
<span id="release-11-1-0"></span><h2>Release 11.1.0 - 2021-11-29<a class="headerlink" href="#release-11-1-0-2021-11-29" title="Link to this heading">#</a></h2>
<section id="id5">
<h3>Improvements<a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<ul>
<li><p>[<a class="reference internal" href="../reference/commands/load.html"><span class="doc">load</span></a>] Added support for ISO 8601 time format.[GitHub#1228][Patched by Takashi Hashida]</p>
<p><code class="docutils literal notranslate"><span class="pre">load</span></code> support the following format by this modification.</p>
<blockquote>
<div><ul class="simple">
<li><p>YYYY-MM-ddThh:mm:ss.sZ</p></li>
<li><p>YYYY-MM-ddThh:mm:ss.s+10:00</p></li>
<li><p>YYYY-MM-ddThh:mm:ss.s-10:00</p></li>
</ul>
</div></blockquote>
<p>We can also use <code class="docutils literal notranslate"><span class="pre">t</span></code> and <code class="docutils literal notranslate"><span class="pre">z</span></code> characters instead of <code class="docutils literal notranslate"><span class="pre">T</span></code> and <code class="docutils literal notranslate"><span class="pre">Z</span></code> in this syntax.
We can also use <code class="docutils literal notranslate"><span class="pre">/</span></code> character instead of <code class="docutils literal notranslate"><span class="pre">-</span></code> in this syntax. However, note that this is not an ISO 8601 format.
This format is present for compatibility.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plugin_register</span> <span class="n">functions</span><span class="o">/</span><span class="n">time</span>

<span class="n">table_create</span> <span class="n">Logs</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Logs</span> <span class="n">case</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>
<span class="n">column_create</span> <span class="n">Logs</span> <span class="n">created_at</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Time</span>
<span class="n">column_create</span> <span class="n">Logs</span> <span class="n">created_at_text</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Logs</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;case&quot;</span><span class="p">:</span> <span class="s2">&quot;timezone: Z&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-01T10:00:00Z&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at_text&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-01T10:00:00Z&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;case&quot;</span><span class="p">:</span> <span class="s2">&quot;timezone: z&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-01t10:00:00z&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at_text&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-01T10:00:00z&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;case&quot;</span><span class="p">:</span> <span class="s2">&quot;timezone: 00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-01T10:00:00+00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at_text&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-01T10:00:00+00:00&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;case&quot;</span><span class="p">:</span> <span class="s2">&quot;timezone: +01:01&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-01T11:01:00+01:01&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at_text&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-01T11:01:00+01:01&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;case&quot;</span><span class="p">:</span> <span class="s2">&quot;timezone: +11:11&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-01T21:11:00+11:11&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at_text&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-01T21:11:00+11:11&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;case&quot;</span><span class="p">:</span> <span class="s2">&quot;timezone: -01:01&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-01T08:59:00-01:01&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at_text&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-01T08:59:00-01:01&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;case&quot;</span><span class="p">:</span> <span class="s2">&quot;timezone: -11:11&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;1999-12-31T22:49:00-11:11&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at_text&quot;</span><span class="p">:</span> <span class="s2">&quot;1999-12-31T22:49:00-11:11&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;case&quot;</span><span class="p">:</span> <span class="s2">&quot;timezone hour threshold: +23:00&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-02T09:00:00+23:00&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at_text&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-02T09:00:00+23:00&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;case&quot;</span><span class="p">:</span> <span class="s2">&quot;timezone minute threshold: +00:59&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-01T10:59:00+00:59&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at_text&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-01T10:59:00+00:59&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;case&quot;</span><span class="p">:</span> <span class="s2">&quot;timezone omitting minute: +01&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-01T11:00:00+01&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at_text&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-01T11:00:00+01&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;case&quot;</span><span class="p">:</span> <span class="s2">&quot;timezone omitting minute: -01&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-01T09:00:00-01&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at_text&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-01T09:00:00-01&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;case&quot;</span><span class="p">:</span> <span class="s2">&quot;timezone: localtime&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-01T19:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at_text&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-01T19:00:00&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;case&quot;</span><span class="p">:</span> <span class="s2">&quot;compatible: date delimiter: /&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2000/01/01T10:00:00Z&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at_text&quot;</span><span class="p">:</span> <span class="s2">&quot;2000/01/01T10:00:00Z&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;case&quot;</span><span class="p">:</span> <span class="s2">&quot;decimal&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-01T11:01:00.123+01:01&quot;</span><span class="p">,</span> <span class="s2">&quot;created_at_text&quot;</span><span class="p">:</span> <span class="s2">&quot;2000-01-01T11:01:00.123+01:01&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Logs</span> \
  <span class="o">--</span><span class="n">limit</span> <span class="o">-</span><span class="mi">1</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="s2">&quot;case, time_format_iso8601(created_at), created_at_text&quot;</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">0.0</span><span class="p">,</span>
    <span class="mf">0.0</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">14</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;case&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;time_format_iso8601&quot;</span><span class="p">,</span>
          <span class="n">null</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;created_at_text&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;timezone: Z&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T19:00:00.000000+09:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T10:00:00Z&quot;</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;timezone: z&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T19:00:00.000000+09:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T10:00:00z&quot;</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;timezone: 00:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T19:00:00.000000+09:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T10:00:00+00:00&quot;</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;timezone: +01:01&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T19:00:00.000000+09:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T11:01:00+01:01&quot;</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;timezone: +11:11&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T19:00:00.000000+09:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T21:11:00+11:11&quot;</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;timezone: -01:01&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T19:00:00.000000+09:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T08:59:00-01:01&quot;</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;timezone: -11:11&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T19:00:00.000000+09:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;1999-12-31T22:49:00-11:11&quot;</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;timezone hour threshold: +23:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T19:00:00.000000+09:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-02T09:00:00+23:00&quot;</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;timezone minute threshold: +00:59&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T19:00:00.000000+09:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T10:59:00+00:59&quot;</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;timezone omitting minute: +01&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T19:00:00.000000+09:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T11:00:00+01&quot;</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;timezone omitting minute: -01&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T19:00:00.000000+09:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T09:00:00-01&quot;</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;timezone: localtime&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T19:00:00.000000+09:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T19:00:00&quot;</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;compatible: date delimiter: /&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T19:00:00.000000+09:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000/01/01T10:00:00Z&quot;</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;decimal&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T19:00:00.123000+09:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2000-01-01T11:01:00.123+01:01&quot;</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>] Added a new <code class="docutils literal notranslate"><span class="pre">query_flags</span></code> <code class="docutils literal notranslate"><span class="pre">DISABLE_PREFIX_SEARCH</span></code>.</p>
<p>We can use the prefix search operators <code class="docutils literal notranslate"><span class="pre">^</span></code> and <code class="docutils literal notranslate"><span class="pre">*</span></code> as search keywords
by <code class="docutils literal notranslate"><span class="pre">DISABLE_PREFIX_SEARCH</span></code> as below.</p>
<p>This feature is useful if we want to search documents including <code class="docutils literal notranslate"><span class="pre">^</span></code> and <code class="docutils literal notranslate"><span class="pre">*</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Users</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Users</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;alice&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;alan&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;ba*&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Users</span> \
  <span class="o">--</span><span class="n">match_columns</span> <span class="s2">&quot;_key&quot;</span> \
  <span class="o">--</span><span class="n">query</span> <span class="s2">&quot;a*&quot;</span> \
  <span class="o">--</span><span class="n">query_flags</span> <span class="s2">&quot;DISABLE_PREFIX_SEARCH&quot;</span>
<span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],[[[</span><span class="mi">1</span><span class="p">],[[</span><span class="s2">&quot;_id&quot;</span><span class="p">,</span><span class="s2">&quot;UInt32&quot;</span><span class="p">],[</span><span class="s2">&quot;_key&quot;</span><span class="p">,</span><span class="s2">&quot;ShortText&quot;</span><span class="p">]],[</span><span class="mi">3</span><span class="p">,</span><span class="s2">&quot;ba*&quot;</span><span class="p">]]]]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Users</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Users</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;alice&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;alan&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;^a&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Users</span> \
  <span class="o">--</span><span class="n">query</span> <span class="s2">&quot;_key:^a&quot;</span> \
  <span class="o">--</span><span class="n">query_flags</span> <span class="s2">&quot;ALLOW_COLUMN|DISABLE_PREFIX_SEARCH&quot;</span>
<span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],[[[</span><span class="mi">1</span><span class="p">],[[</span><span class="s2">&quot;_id&quot;</span><span class="p">,</span><span class="s2">&quot;UInt32&quot;</span><span class="p">],[</span><span class="s2">&quot;_key&quot;</span><span class="p">,</span><span class="s2">&quot;ShortText&quot;</span><span class="p">]],[</span><span class="mi">3</span><span class="p">,</span><span class="s2">&quot;^a&quot;</span><span class="p">]]]]</span>
</pre></div>
</div>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>] Added a new <code class="docutils literal notranslate"><span class="pre">query_flags</span></code> <code class="docutils literal notranslate"><span class="pre">DISABLE_AND_NOT</span></code>.</p>
<p>We can use <code class="docutils literal notranslate"><span class="pre">AND</span> <span class="pre">NOT</span></code> operators <code class="docutils literal notranslate"><span class="pre">-</span></code> as search keywords
by <code class="docutils literal notranslate"><span class="pre">DISABLE_AND_NOT</span></code> as below.</p>
<p>This feature is useful if we want to search documents including <code class="docutils literal notranslate"><span class="pre">-</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Users</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Users</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;alice&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;bob&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;cab-&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Users</span>   <span class="o">--</span><span class="n">match_columns</span> <span class="s2">&quot;_key&quot;</span>   <span class="o">--</span><span class="n">query</span> <span class="s2">&quot;b - a&quot;</span>   <span class="o">--</span><span class="n">query_flags</span> <span class="s2">&quot;DISABLE_AND_NOT&quot;</span>
<span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],[[[</span><span class="mi">1</span><span class="p">],[[</span><span class="s2">&quot;_id&quot;</span><span class="p">,</span><span class="s2">&quot;UInt32&quot;</span><span class="p">],[</span><span class="s2">&quot;_key&quot;</span><span class="p">,</span><span class="s2">&quot;ShortText&quot;</span><span class="p">]],[</span><span class="mi">3</span><span class="p">,</span><span class="s2">&quot;cab-&quot;</span><span class="p">]]]]</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="id6">
<h3>Fixes<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>[The browser based administration tool] Fixed a bug that a search query that is inputted to non-administration mode is sent even if we input checks to the checkbox for the administration mode of a record list. [GitHub#1186][Patched by Takashi Hashida]</p></li>
</ul>
</section>
<section id="id7">
<h3>Known Issues<a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<ul>
<li><p>Currently, Groonga has a bug that there is possible that data is corrupt when we execute many additions, delete, and update data to vector column.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">*&gt;</span></code> only valid when we use <code class="docutils literal notranslate"><span class="pre">query()</span></code> the right side of filter condition.
If we specify as below, <code class="docutils literal notranslate"><span class="pre">*&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">*&gt;</span></code> work as <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Groonga&quot;</span> <span class="pre">*&lt;</span> <span class="pre">content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Mroonga&quot;'</span></code></p></li>
</ul>
</div></blockquote>
</li>
<li><p>Groonga may not return records that should match caused by <code class="docutils literal notranslate"><span class="pre">GRN_II_CURSOR_SET_MIN_ENABLE</span></code>.</p></li>
</ul>
</section>
<section id="id8">
<h3>Thanks<a class="headerlink" href="#id8" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Takashi Hashida</p></li>
</ul>
</section>
</section>
<section id="release-11-0-9-2021-11-04">
<span id="release-11-0-9"></span><h2>Release 11.0.9 - 2021-11-04<a class="headerlink" href="#release-11-0-9-2021-11-04" title="Link to this heading">#</a></h2>
<section id="id9">
<h3>Improvements<a class="headerlink" href="#id9" title="Link to this heading">#</a></h3>
<ul>
<li><p>[<a class="reference internal" href="../reference/functions/snippet.html"><span class="doc">snippet</span></a>] Added a new option <code class="docutils literal notranslate"><span class="pre">delimiter_regexp</span></code> for detecting snippet delimiter with regular expression.</p>
<p><a class="reference internal" href="../reference/functions/snippet.html"><span class="doc">snippet</span></a> extracts text around search keywords.
We call the text that is extracted by <a class="reference internal" href="../reference/functions/snippet.html"><span class="doc">snippet</span></a> snippet.</p>
<p>Normally, <a class="reference internal" href="../reference/functions/snippet.html"><span class="doc">snippet</span></a> () returns the text of 200 bytes around search keywords.
However, <a class="reference internal" href="../reference/functions/snippet.html"><span class="doc">snippet</span></a> () gives no thought to a delimiter of sentences.
The snippet may be composed of multi sentences.</p>
<p><code class="docutils literal notranslate"><span class="pre">delimiter_regexp</span></code> option is useful if we want to only extract the text of the same sentence as search keywords.
For example, we can use <code class="docutils literal notranslate"><span class="pre">\.\s*</span></code> to extract only text in the target sentence as below.
Note that you need to escape <code class="docutils literal notranslate"><span class="pre">\</span></code> in string.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Documents</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Documents</span> <span class="n">content</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Text</span>

<span class="n">table_create</span> <span class="n">Terms</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span> <span class="o">--</span><span class="n">default_tokenizer</span> <span class="n">TokenBigram</span>  <span class="o">--</span><span class="n">normalizer</span> <span class="n">NormalizerAuto</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">documents_content_index</span> <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> <span class="n">Documents</span> <span class="n">content</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Documents</span>
<span class="p">[</span>
<span class="p">[</span><span class="s2">&quot;content&quot;</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;Groonga is a fast and accurate full text search engine based on inverted index. One of the characteristics of groonga is that a newly registered document instantly appears in search results. Also, groonga allows updates without read locks. These characteristics result in superior performance on real-time applications.&quot;</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;Groonga is also a column-oriented database management system (DBMS). Compared with well-known row-oriented systems, such as MySQL and PostgreSQL, column-oriented systems are more suited for aggregate queries. Due to this advantage, groonga can cover weakness of row-oriented systems.&quot;</span><span class="p">]</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Documents</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="s1">&#39;snippet(content, </span><span class="se">\</span>
<span class="s1">                            { </span><span class="se">\</span>
<span class="s1">                               &quot;default_open_tag&quot;: &quot;[&quot;, </span><span class="se">\</span>
<span class="s1">                               &quot;default_close_tag&quot;: &quot;]&quot;, </span><span class="se">\</span>
<span class="s1">                               &quot;delimiter_regexp&quot;: &quot;</span><span class="se">\\\\</span><span class="s1">.</span><span class="se">\\\\</span><span class="s1">s*&quot; </span><span class="se">\</span>
<span class="s1">                            })&#39;</span> \
  <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> \
  <span class="o">--</span><span class="n">query</span> <span class="s2">&quot;fast performance&quot;</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">1337566253.89858</span><span class="p">,</span>
    <span class="mf">0.000355720520019531</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">1</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;snippet&quot;</span><span class="p">,</span>
          <span class="n">null</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;Groonga is a [fast] and accurate full text search engine based on inverted index&quot;</span><span class="p">,</span>
          <span class="s2">&quot;These characteristics result in superior [performance] on real-time applications&quot;</span>
        <span class="p">]</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>[<a class="reference internal" href="../reference/window_functions/window_rank.html"><span class="doc">window_rank</span></a>] Added a new function <code class="docutils literal notranslate"><span class="pre">window_rank()</span></code>.</p>
<ul>
<li><p>We can calculate a rank that includes a gap of each record.
Normally, the rank isn’t incremented when multiple records that are the same order.
For example, if values of sort keys are 100, 100, 200 then the ranks of them
are 1, 1, 3.
The rank of the last record is 3 not 2 because there are two 1 rank records.</p>
<p>This is similar to <a class="reference internal" href="../reference/window_functions/window_record_number.html"><span class="doc">window_record_number</span></a>.
However, <a class="reference internal" href="../reference/window_functions/window_record_number.html"><span class="doc">window_record_number</span></a> gives no thought to gap.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Points</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Points</span> <span class="n">game</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>
<span class="n">column_create</span> <span class="n">Points</span> <span class="n">score</span> <span class="n">COLUMN_SCALAR</span> <span class="n">UInt32</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Points</span>
<span class="p">[</span>
<span class="p">[</span><span class="s2">&quot;game&quot;</span><span class="p">,</span>  <span class="s2">&quot;score&quot;</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;game1&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;game1&quot;</span><span class="p">,</span> <span class="mi">200</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;game1&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;game1&quot;</span><span class="p">,</span> <span class="mi">400</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;game2&quot;</span><span class="p">,</span> <span class="mi">150</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;game2&quot;</span><span class="p">,</span> <span class="mi">200</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;game2&quot;</span><span class="p">,</span> <span class="mi">200</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;game2&quot;</span><span class="p">,</span> <span class="mi">200</span><span class="p">]</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Points</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">rank</span><span class="p">]</span><span class="o">.</span><span class="n">stage</span> <span class="n">filtered</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">rank</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="s1">&#39;window_rank()&#39;</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">rank</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="n">UInt32</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">rank</span><span class="p">]</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">sort_keys</span> <span class="n">score</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="s1">&#39;game, score, rank&#39;</span> \
  <span class="o">--</span><span class="n">sort_keys</span> <span class="n">score</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">1337566253.89858</span><span class="p">,</span>
    <span class="mf">0.000355720520019531</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">8</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;game&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;score&quot;</span><span class="p">,</span>
          <span class="s2">&quot;UInt32&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;rank&quot;</span><span class="p">,</span>
          <span class="s2">&quot;UInt32&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;game1&quot;</span><span class="p">,</span>
        <span class="mi">100</span><span class="p">,</span>
        <span class="mi">1</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;game1&quot;</span><span class="p">,</span>
        <span class="mi">100</span><span class="p">,</span>
        <span class="mi">1</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;game2&quot;</span><span class="p">,</span>
        <span class="mi">150</span><span class="p">,</span>
        <span class="mi">3</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;game2&quot;</span><span class="p">,</span>
        <span class="mi">200</span><span class="p">,</span>
        <span class="mi">4</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;game2&quot;</span><span class="p">,</span>
        <span class="mi">200</span><span class="p">,</span>
        <span class="mi">4</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;game1&quot;</span><span class="p">,</span>
        <span class="mi">200</span><span class="p">,</span>
        <span class="mi">4</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;game2&quot;</span><span class="p">,</span>
        <span class="mi">200</span><span class="p">,</span>
        <span class="mi">4</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;game1&quot;</span><span class="p">,</span>
        <span class="mi">400</span><span class="p">,</span>
        <span class="mi">8</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../reference/functions/in_values.html"><span class="doc">in_values</span></a>] Added support for auto cast when we search tables.</p>
<p>For example, if we load values of <code class="docutils literal notranslate"><span class="pre">UInt32</span></code> into a table that a key type is <code class="docutils literal notranslate"><span class="pre">UInt64</span></code>, Groonga cast the values to <code class="docutils literal notranslate"><span class="pre">UInt64</span></code> automatically when we search the table with <code class="docutils literal notranslate"><span class="pre">in_values()</span></code>. However, <code class="docutils literal notranslate"><span class="pre">in_values(_key,</span> <span class="pre">10)</span></code> doesn’t work with <code class="docutils literal notranslate"><span class="pre">UInt64</span></code> key table. Because 10 is parsed as <code class="docutils literal notranslate"><span class="pre">Int32</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Numbers</span> <span class="n">TABLE_HASH_KEY</span> <span class="n">UInt64</span>
<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Numbers</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="mi">300</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Numbers</span>   <span class="o">--</span><span class="n">output_columns</span> <span class="n">_key</span>   <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;in_values(_key, 200, 100)&#39;</span>   <span class="o">--</span><span class="n">sortby</span> <span class="n">_id</span>
<span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],[[[</span><span class="mi">2</span><span class="p">],[[</span><span class="s2">&quot;_key&quot;</span><span class="p">,</span><span class="s2">&quot;UInt64&quot;</span><span class="p">]],[</span><span class="mi">100</span><span class="p">],[</span><span class="mi">200</span><span class="p">]]]]</span>
</pre></div>
</div>
</li>
<li><p>[httpd] Updated bundled nginx to 1.21.3.</p></li>
<li><p>[<a class="reference internal" href="../install/almalinux.html"><span class="doc">AlmaLinux</span></a>] Added support for AlmaLinux 8.</p></li>
<li><p>[<a class="reference internal" href="../install/ubuntu.html"><span class="doc">Ubuntu</span></a>] Added support for Ubuntu 21.10 (Impish Indri).</p></li>
</ul>
</section>
<section id="id10">
<h3>Fixes<a class="headerlink" href="#id10" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Fixed a bug that Groonga doesn’t return a response when an error occurred
in command (e.g. sytax error in filter).</p>
<ul>
<li><p>This bug only occurs when we use <code class="docutils literal notranslate"><span class="pre">--output_type</span> <span class="pre">apache-arrow</span></code>.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id11">
<h3>Known Issues<a class="headerlink" href="#id11" title="Link to this heading">#</a></h3>
<ul>
<li><p>Currently, Groonga has a bug that there is possible that data is corrupt when we execute many additions, delete, and update data to vector column.</p></li>
<li><p>[The browser based administration tool] Currently, Groonga has a bug that a search query that is inputted to non-administration mode is sent even if we input checks to the checkbox for the administration mode of a record list.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">*&gt;</span></code> only valid when we use <code class="docutils literal notranslate"><span class="pre">query()</span></code> the right side of filter condition.
If we specify as below, <code class="docutils literal notranslate"><span class="pre">*&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">*&gt;</span></code> work as <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Groonga&quot;</span> <span class="pre">*&lt;</span> <span class="pre">content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Mroonga&quot;'</span></code></p></li>
</ul>
</div></blockquote>
</li>
<li><p>Groonga may not return records that should match caused by <code class="docutils literal notranslate"><span class="pre">GRN_II_CURSOR_SET_MIN_ENABLE</span></code>.</p></li>
</ul>
</section>
</section>
<section id="release-11-0-7-2021-09-29">
<span id="release-11-0-7"></span><h2>Release 11.0.7 - 2021-09-29<a class="headerlink" href="#release-11-0-7-2021-09-29" title="Link to this heading">#</a></h2>
<section id="id12">
<h3>Improvements<a class="headerlink" href="#id12" title="Link to this heading">#</a></h3>
<ul>
<li><p>[<a class="reference internal" href="../reference/commands/load.html"><span class="doc">load</span></a>] Added support for casting a string like as “[int, int,…]” to a vector of integer like as [int, int,…].</p>
<p>For example, Groonga handle as a vector of integer like as [1, -2] even if we load vector of string like as “[1, -2]” as below.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Data</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Data</span> <span class="n">numbers</span> <span class="n">COLUMN_VECTOR</span> <span class="n">Int16</span>
<span class="n">table_create</span> <span class="n">Numbers</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">Int16</span>
<span class="n">column_create</span> <span class="n">Numbers</span> <span class="n">data_numbers</span> <span class="n">COLUMN_INDEX</span> <span class="n">Data</span> <span class="n">numbers</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Data</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;numbers&quot;</span><span class="p">:</span> <span class="s2">&quot;[1, -2]&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;numbers&quot;</span><span class="p">:</span> <span class="s2">&quot;[-3, 4]&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">dump</span>   <span class="o">--</span><span class="n">dump_plugins</span> <span class="n">no</span>   <span class="o">--</span><span class="n">dump_schema</span> <span class="n">no</span>
<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Data</span>
<span class="p">[</span>
<span class="p">[</span><span class="s2">&quot;_id&quot;</span><span class="p">,</span><span class="s2">&quot;numbers&quot;</span><span class="p">],</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">]],</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,[</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]]</span>
<span class="p">]</span>

<span class="n">column_create</span> <span class="n">Numbers</span> <span class="n">data_numbers</span> <span class="n">COLUMN_INDEX</span> <span class="n">Data</span> <span class="n">numbers</span>
<span class="n">select</span> <span class="n">Data</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;numbers @ -2&#39;</span>
<span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],[[[</span><span class="mi">1</span><span class="p">],[[</span><span class="s2">&quot;_id&quot;</span><span class="p">,</span><span class="s2">&quot;UInt32&quot;</span><span class="p">],[</span><span class="s2">&quot;numbers&quot;</span><span class="p">,</span><span class="s2">&quot;Int16&quot;</span><span class="p">]],[</span><span class="mi">1</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">]]]]]</span>
</pre></div>
</div>
</div></blockquote>
<p>This feature supports for the floowings types.</p>
<blockquote>
<div><ul class="simple">
<li><p>Int8</p></li>
<li><p>UInt8</p></li>
<li><p>Int16</p></li>
<li><p>UInt16</p></li>
<li><p>Int32</p></li>
<li><p>UInt32</p></li>
<li><p>Int64</p></li>
<li><p>UInt64</p></li>
</ul>
</div></blockquote>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/load.html"><span class="doc">load</span></a>] Added support for loading a JSON array expressed as a text string as a vector of string.</p>
<p>For example, Groonga handle as a vector that has two elements like as [“hello”, “world”] if we load JSON array expressed as a text string like as “[&quot;hello&quot;, &quot;world&quot;]” as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Data</span> <span class="n">TABLE_NO_KEY</span>
<span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span><span class="n">true</span><span class="p">]</span>
<span class="n">column_create</span> <span class="n">Data</span> <span class="n">strings</span> <span class="n">COLUMN_VECTOR</span> <span class="n">ShortText</span>
<span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span><span class="n">true</span><span class="p">]</span>
<span class="n">table_create</span> <span class="n">Terms</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span>   <span class="o">--</span><span class="n">normalizer</span> <span class="n">NormalizerNFKC130</span>   <span class="o">--</span><span class="n">default_tokenizer</span> <span class="n">TokenNgram</span>
<span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span><span class="n">true</span><span class="p">]</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">data_strings</span> <span class="n">COLUMN_INDEX</span> <span class="n">Data</span> <span class="n">strings</span>
<span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span><span class="n">true</span><span class="p">]</span>
<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Data</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;strings&quot;</span><span class="p">:</span> <span class="s2">&quot;[</span><span class="se">\&quot;</span><span class="s2">Hello</span><span class="se">\&quot;</span><span class="s2">, </span><span class="se">\&quot;</span><span class="s2">World</span><span class="se">\&quot;</span><span class="s2">]&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;strings&quot;</span><span class="p">:</span> <span class="s2">&quot;[</span><span class="se">\&quot;</span><span class="s2">Good-bye</span><span class="se">\&quot;</span><span class="s2">, </span><span class="se">\&quot;</span><span class="s2">World</span><span class="se">\&quot;</span><span class="s2">]&quot;</span><span class="p">}</span>
<span class="p">]</span>
<span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span><span class="mi">2</span><span class="p">]</span>
<span class="n">dump</span>   <span class="o">--</span><span class="n">dump_plugins</span> <span class="n">no</span>   <span class="o">--</span><span class="n">dump_schema</span> <span class="n">no</span>
<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Data</span>
<span class="p">[</span>
<span class="p">[</span><span class="s2">&quot;_id&quot;</span><span class="p">,</span><span class="s2">&quot;strings&quot;</span><span class="p">],</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,[</span><span class="s2">&quot;Hello&quot;</span><span class="p">,</span><span class="s2">&quot;World&quot;</span><span class="p">]],</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,[</span><span class="s2">&quot;Good-bye&quot;</span><span class="p">,</span><span class="s2">&quot;World&quot;</span><span class="p">]]</span>
<span class="p">]</span>

<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">data_strings</span> <span class="n">COLUMN_INDEX</span> <span class="n">Data</span> <span class="n">strings</span>
<span class="n">select</span> <span class="n">Data</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;strings @ &quot;bye&quot;&#39;</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">0.0</span><span class="p">,</span>
    <span class="mf">0.0</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">1</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;_id&quot;</span><span class="p">,</span>
          <span class="s2">&quot;UInt32&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;strings&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="mi">2</span><span class="p">,</span>
        <span class="p">[</span>
          <span class="s2">&quot;Good-bye&quot;</span><span class="p">,</span>
          <span class="s2">&quot;World&quot;</span>
        <span class="p">]</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
<p>In before version, Groonga handled as a vector that had one element like as [“[&quot;hello&quot;, &quot;world&quot;]”] if we loaded JSON array expressed as a text string like as “[&quot;hello&quot;, &quot;world&quot;]”.</p>
</li>
<li><p>[Documentation] Added a documentation about the following items.</p>
<ul class="simple">
<li><p>[<a class="reference internal" href="../reference/commands/column_create.html"><span class="doc">column_create</span></a>] Added a documentation about <code class="docutils literal notranslate"><span class="pre">WEIGHT_FLOAT32</span></code> flag.</p></li>
<li><p>[<a class="reference internal" href="../reference/normalizers/normalizer_nfkc121.html"><span class="doc">NormalizerNFKC121</span></a>] Added a documentation about <code class="docutils literal notranslate"><span class="pre">NormalizerNFKC121</span></code>.</p></li>
<li><p>[<a class="reference internal" href="../reference/normalizers/normalizer_nfkc130.html"><span class="doc">NormalizerNFKC130</span></a>] Added a documentation about <code class="docutils literal notranslate"><span class="pre">NormalizerNFKC130</span></code>.</p></li>
<li><p>[<a class="reference internal" href="../reference/normalizers/normalizer_table.html"><span class="doc">NormalizerTable</span></a>] Added a documentation about <code class="docutils literal notranslate"><span class="pre">NormalizerTable</span></code>.</p></li>
</ul>
</li>
<li><p>Updated to 3.0.0 that the version of Apache Arrow that Groonga requires. [GitHub#1265][Patched by Takashi Hashida]</p></li>
</ul>
</section>
<section id="id13">
<h3>Fixes<a class="headerlink" href="#id13" title="Link to this heading">#</a></h3>
<ul>
<li><p>Fixed a memory leak when we created a table with a tokenizer with invalid option.</p></li>
<li><p>Fixed a bug that may not add a new entry in Hash table.</p>
<p>This bug only occurs in Groonga 11.0.6, and it may occur if we quite a lot of add and delete data.
If this bug occurs in your environment, you can resolve this problem by executing the following steps.</p>
<ol class="arabic simple">
<li><p>We upgrade Groonga to 11.0.7 or later from 11.0.6.</p></li>
<li><p>We make a new table that has the same schema as the original table.</p></li>
<li><p>We copy data to the new table from the original table.</p></li>
</ol>
</li>
<li><p>[Windows] Fixed a resource leak when Groonga fail open a new file caused by out of memory.</p></li>
</ul>
</section>
<section id="id14">
<h3>Known Issues<a class="headerlink" href="#id14" title="Link to this heading">#</a></h3>
<ul>
<li><p>Currently, Groonga has a bug that there is possible that data is corrupt when we execute many additions, delete, and update data to vector column.</p></li>
<li><p>[The browser based administration tool] Currently, Groonga has a bug that a search query that is inputted to non-administration mode is sent even if we input checks to the checkbox for the administration mode of a record list.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">*&gt;</span></code> only valid when we use <code class="docutils literal notranslate"><span class="pre">query()</span></code> the right side of filter condition.
If we specify as below, <code class="docutils literal notranslate"><span class="pre">*&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">*&gt;</span></code> work as <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Groonga&quot;</span> <span class="pre">*&lt;</span> <span class="pre">content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Mroonga&quot;'</span></code></p></li>
</ul>
</div></blockquote>
</li>
<li><p>Groonga may not return records that should match caused by <code class="docutils literal notranslate"><span class="pre">GRN_II_CURSOR_SET_MIN_ENABLE</span></code>.</p></li>
</ul>
</section>
<section id="id15">
<h3>Thanks<a class="headerlink" href="#id15" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Takashi Hashida</p></li>
</ul>
</section>
</section>
<section id="release-11-0-6-2021-08-29">
<span id="release-11-0-6"></span><h2>Release 11.0.6 - 2021-08-29<a class="headerlink" href="#release-11-0-6-2021-08-29" title="Link to this heading">#</a></h2>
<blockquote>
<div><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Groonga 11.0.6 has had a bug that may not add a new entry in Hash table.</p>
<p>We fixed this bug on Groonga 11.0.7. This bug only occurs in Groonga 11.0.6.
Therefore, if you were using Groonga 11.0.6, we highly recommended that
you use Groonga 11.0.7 or later.</p>
</div>
</div></blockquote>
<section id="id16">
<h3>Improvements<a class="headerlink" href="#id16" title="Link to this heading">#</a></h3>
<ul>
<li><p>Added support for recovering on crash. (experimental)</p>
<p>This is a experimental feature. Currently, this feature is still not stable.</p>
<p>If Groonga crashes, it recovers the database automatically when it opens a database for the first time since the crash. However, This feature can’t recover the database automatically in all crash cases.
We need to recover the database manually depending on timing even if this feature enables.</p>
<p>Groonga execute WAL (write ahead log) when this feature is enable.
We can dump WAL by the following tools, but currently, users doesn’t need to use them.</p>
<blockquote>
<div><ul class="simple">
<li><p>[<a class="reference internal" href="../reference/executables/grndb.html"><span class="doc">grndb</span></a>] <code class="docutils literal notranslate"><span class="pre">dump-wal</span></code> command.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dump-wal.rb</span></code> scritp.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/cache_limit.html"><span class="doc">cache_limit</span></a>] Groonga remove cache when we execute <code class="docutils literal notranslate"><span class="pre">cache_limit</span> <span class="pre">0</span></code>. [GitHub#1224][Reported by higchi]</p>
<p>Groonga stores query cache to internally table.
The maximum total size of keys of this table is 4GiB. Because this table is hash table.
Therefore, If we execute many huge queries, Groonga may be unable to store query cache, because the maximum total size of keys may be over 4GiB.
In such cases, We can clear the table for query cache by using <code class="docutils literal notranslate"><span class="pre">cache_limit</span> <span class="pre">0</span></code>, and Groonga can store query cache</p>
</li>
</ul>
</section>
<section id="id17">
<h3>Fixes<a class="headerlink" href="#id17" title="Link to this heading">#</a></h3>
<ul>
<li><p>Fixed a bug that Groonga doesn’t clear lock when some threads open the same object around the same time.</p>
<p>If some threads open the same object around the same time, threads except for a thread that executes the opening object at first are waiting for opening the target object.
At this time, threads that wait for an opening object take locks, but these locks are not released.
Therefore, these locks remain until Groonga’s process is restarted in the above case, and a new thread can’t also open the object all the time until Groonga’s process is restarted.</p>
<p>However, this bug rarely happens. Because a time of a thread open the object is a very short time.</p>
</li>
<li><p>[<a class="reference internal" href="../reference/functions/query_parallel_or.html"><span class="doc">query_parallel_or</span></a>] Fixed a bug that result may be different from the <code class="docutils literal notranslate"><span class="pre">query()</span></code>.</p>
<p>For example, If we used <code class="docutils literal notranslate"><span class="pre">query(&quot;tags</span> <span class="pre">||</span> <span class="pre">tags2&quot;,</span> <span class="pre">&quot;beginner</span> <span class="pre">man&quot;)</span></code>, the following record was a match, but if we used <code class="docutils literal notranslate"><span class="pre">query_parallel_or(&quot;tags</span> <span class="pre">||</span> <span class="pre">tags2&quot;,</span> <span class="pre">&quot;beginner</span> <span class="pre">man&quot;)</span></code>, the following record wasn’t a match until now.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">{&quot;_key&quot;:</span> <span class="pre">&quot;Bob&quot;,</span>&#160;&#160; <span class="pre">&quot;comment&quot;:</span> <span class="pre">&quot;Hey!&quot;,</span>&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">&quot;tags&quot;:</span> <span class="pre">[&quot;expert&quot;,</span> <span class="pre">&quot;man&quot;],</span> <span class="pre">&quot;tags2&quot;:</span> <span class="pre">[&quot;beginner&quot;]}</span></code></p></li>
</ul>
<p>Even if we use <code class="docutils literal notranslate"><span class="pre">query_parallel_or(&quot;tags</span> <span class="pre">||</span> <span class="pre">tags2&quot;,</span> <span class="pre">&quot;beginner</span> <span class="pre">man&quot;)</span></code>, the above record is match by this modification.</p>
</li>
</ul>
</section>
<section id="id18">
<h3>Known Issues<a class="headerlink" href="#id18" title="Link to this heading">#</a></h3>
<ul>
<li><p>Currently, Groonga has a bug that there is possible that data is corrupt when we execute many additions, delete, and update data to vector column.</p></li>
<li><p>[The browser based administration tool] Currently, Groonga has a bug that a search query that is inputted to non-administration mode is sent even if we input checks to the checkbox for the administration mode of a record list.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">*&gt;</span></code> only valid when we use <code class="docutils literal notranslate"><span class="pre">query()</span></code> the right side of filter condition.
If we specify as below, <code class="docutils literal notranslate"><span class="pre">*&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">*&gt;</span></code> work as <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Groonga&quot;</span> <span class="pre">*&lt;</span> <span class="pre">content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Mroonga&quot;'</span></code></p></li>
</ul>
</div></blockquote>
</li>
<li><p>Groonga may not return records that should match caused by <code class="docutils literal notranslate"><span class="pre">GRN_II_CURSOR_SET_MIN_ENABLE</span></code>.</p></li>
</ul>
</section>
<section id="id19">
<h3>Thanks<a class="headerlink" href="#id19" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>higchi</p></li>
</ul>
</section>
</section>
<section id="release-11-0-5-2021-07-29">
<span id="release-11-0-5"></span><h2>Release 11.0.5 - 2021-07-29<a class="headerlink" href="#release-11-0-5-2021-07-29" title="Link to this heading">#</a></h2>
<section id="id20">
<h3>Improvements<a class="headerlink" href="#id20" title="Link to this heading">#</a></h3>
<ul>
<li><p>[<a class="reference internal" href="../reference/normalizers.html"><span class="doc">Normalizers</span></a>] Added support for multiple normalizers.</p>
<p>We can specify multiple normalizers by <code class="docutils literal notranslate"><span class="pre">--notmalizers</span></code> option when we create a table since this release.
If we can also specify them by  <code class="docutils literal notranslate"><span class="pre">--normalizer</span></code> existing option because of compatibility.</p>
<p>We added <code class="docutils literal notranslate"><span class="pre">NormalizerTable</span></code> for customizing a normalizer in Groonga 11.0.4.
We can more flexibly behavior of the normalizer by combining <code class="docutils literal notranslate"><span class="pre">NormalizerTable</span></code> with existing normalizer.</p>
<p>For example, this feature is useful in the following case.</p>
<blockquote>
<div><ul class="simple">
<li><p>Search for a telephone number. However, we import data handwritten by OCR.
If data is handwritten, OCR may misunderstand a number and string(e.g. 5 and S).</p></li>
</ul>
</div></blockquote>
<p>The details are as follows.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Normalizations</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span>
<span class="n">column_create</span> <span class="n">Normalizations</span> <span class="n">normalized</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>
<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Normalizations</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="s2">&quot;normalized&quot;</span><span class="p">:</span> <span class="s2">&quot;5&quot;</span><span class="p">}</span>
<span class="p">]</span>


<span class="n">table_create</span> <span class="n">Tels</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Tels</span> <span class="n">tel</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>

<span class="n">table_create</span> <span class="n">TelsIndex</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span> \
  <span class="o">--</span><span class="n">normalizers</span> <span class="s1">&#39;NormalizerNFKC130(&quot;unify_hyphen_and_prolonged_sound_mark&quot;, true), </span><span class="se">\</span>
<span class="s1">                 NormalizerTable(&quot;column&quot;, &quot;Normalizations.normalized&quot;)&#39;</span> \
  <span class="o">--</span><span class="n">default_tokenizer</span> <span class="s1">&#39;TokenNgram(&quot;loose_symbol&quot;, true, &quot;loose_blank&quot;, true)&#39;</span>
<span class="n">column_create</span> <span class="n">TelsIndex</span> <span class="n">tel_index</span> <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_SECTION</span> <span class="n">Tels</span> <span class="n">tel</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Tels</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;tel&quot;</span><span class="p">:</span> <span class="s2">&quot;03-4S-1234&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;tel&quot;</span><span class="p">:</span> <span class="s2">&quot;03-45-9876&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="o">--</span><span class="n">table</span> <span class="n">Tels</span> \
  <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;tel @ &quot;03-45-1234&quot;&#39;</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">1625227424.560146</span><span class="p">,</span>
    <span class="mf">0.0001730918884277344</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">1</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;_id&quot;</span><span class="p">,</span>
          <span class="s2">&quot;UInt32&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;tel&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;03-4S-1234&quot;</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Existing normalizers can’t meet in such case, but we can meet it by combining <code class="docutils literal notranslate"><span class="pre">NormalizerTable</span></code> with existing normalizer since this release.</p>
</li>
<li><p>[<a class="reference internal" href="../reference/functions/query_parallel_or.html"><span class="doc">query_parallel_or</span></a>][<a class="reference internal" href="../reference/functions/query.html"><span class="doc">query</span></a>] Added support for customizing thresholds for sequential search.</p>
<p>We can customize thresholds in each queries whether to use sequential search by the following options.</p>
<blockquote>
<div><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">{&quot;max_n_enough_filtered_records&quot;:</span> <span class="pre">xx}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">max_n_enough_filtered_records</span></code> specify the number of records.
<code class="docutils literal notranslate"><span class="pre">query</span></code> or <code class="docutils literal notranslate"><span class="pre">query_parallel_or</span></code> use sequential search when they seems to narrow down until under this number.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">{&quot;enough_filtered_ratio&quot;:</span> <span class="pre">x.x}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">enough_filtered_ratio</span></code> specify percentage of total.
<code class="docutils literal notranslate"><span class="pre">query</span></code> or <code class="docutils literal notranslate"><span class="pre">query_parallel_or</span></code> use sequential search when they seems to narrow down until under this percentage.
For example, if we specify <code class="docutils literal notranslate"><span class="pre">{&quot;enough_filtered_ratio&quot;:</span> <span class="pre">0.5}</span></code>, <code class="docutils literal notranslate"><span class="pre">query</span></code> or <code class="docutils literal notranslate"><span class="pre">query_parallel_or</span></code> use sequential search when they seems to narrow down until half of the whole.</p>
</li>
</ul>
</div></blockquote>
<p>The details are as follows.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Products</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Products</span> <span class="n">name</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>

<span class="n">table_create</span> <span class="n">Terms</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span> <span class="o">--</span><span class="n">normalizer</span> <span class="n">NormalizerAuto</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">products_name</span> <span class="n">COLUMN_INDEX</span> <span class="n">Products</span> <span class="n">name</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Products</span>
<span class="p">[</span>
<span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;Groonga&quot;</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;Mroonga&quot;</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;Rroonga&quot;</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;PGroonga&quot;</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;Ruby&quot;</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;PostgreSQL&quot;</span><span class="p">]</span>
<span class="p">]</span>

<span class="n">select</span> \
  <span class="o">--</span><span class="n">table</span> <span class="n">Products</span> \
  <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;query(&quot;name&quot;, &quot;r name:Ruby&quot;, {&quot;enough_filtered_ratio&quot;: 0.5})&#39;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Products</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Products</span> <span class="n">name</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>

<span class="n">table_create</span> <span class="n">Terms</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span> <span class="o">--</span><span class="n">normalizer</span> <span class="n">NormalizerAuto</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">products_name</span> <span class="n">COLUMN_INDEX</span> <span class="n">Products</span> <span class="n">name</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Products</span>
<span class="p">[</span>
<span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;Groonga&quot;</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;Mroonga&quot;</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;Rroonga&quot;</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;PGroonga&quot;</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;Ruby&quot;</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;PostgreSQL&quot;</span><span class="p">]</span>
<span class="p">]</span>

<span class="n">select</span> \
  <span class="o">--</span><span class="n">table</span> <span class="n">Products</span> \
  <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;query(&quot;name&quot;, &quot;r name:Ruby&quot;, {&quot;max_n_enough_filtered_records&quot;: 10})&#39;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>[<a class="reference internal" href="../reference/functions/between.html"><span class="doc">between</span></a>][<a class="reference internal" href="../reference/functions/in_values.html"><span class="doc">in_values</span></a>] Added support for customizing thresholds for sequential search.</p>
<p>[<a class="reference internal" href="../reference/functions/between.html"><span class="doc">between</span></a>] and [<a class="reference internal" href="../reference/functions/in_values.html"><span class="doc">in_values</span></a>] have a feature that they switch to sequential search when the target of search records is narrowed down enough.</p>
<p>The value of <code class="docutils literal notranslate"><span class="pre">GRN_IN_VALUES_TOO_MANY_INDEX_MATCH_RATIO</span></code> / <code class="docutils literal notranslate"><span class="pre">GRN_BETWEEN_TOO_MANY_INDEX_MATCH_RATIO</span></code> is used as threshold whether Groonga execute sequential search or search with indexes in such a case.</p>
<p>This behavior is customized by only the following environment variable until now.</p>
<p><code class="docutils literal notranslate"><span class="pre">in_values()</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Don&#39;t use auto sequential search</span>
<span class="n">GRN_IN_VALUES_TOO_MANY_INDEX_MATCH_RATIO</span><span class="o">=-</span><span class="mi">1</span>
<span class="c1"># Set threshold to 0.02</span>
<span class="n">GRN_IN_VALUES_TOO_MANY_INDEX_MATCH_RATIO</span><span class="o">=</span><span class="mf">0.02</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">between()</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Don&#39;t use auto sequential search</span>
<span class="n">GRN_BETWEEN_TOO_MANY_INDEX_MATCH_RATIO</span><span class="o">=-</span><span class="mi">1</span>
<span class="c1"># Set threshold to 0.02</span>
<span class="n">GRN_BETWEEN_TOO_MANY_INDEX_MATCH_RATIO</span><span class="o">=</span><span class="mf">0.02</span>
</pre></div>
</div>
<p>if customize by the environment variable, this threshold applies to all queries, but we can specify it in each query by using this feature.</p>
<p>The details are as follows. We can specify the threshold by using <code class="docutils literal notranslate"><span class="pre">{&quot;too_many_index_match_ratio&quot;:</span> <span class="pre">x.xx}</span></code> option.
The value type of this option is <code class="docutils literal notranslate"><span class="pre">double</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Memos</span> <span class="n">TABLE_HASH_KEY</span> <span class="n">ShortText</span>
<span class="n">column_create</span> <span class="n">Memos</span> <span class="n">timestamp</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Time</span>

<span class="n">table_create</span> <span class="n">Times</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">Time</span>
<span class="n">column_create</span> <span class="n">Times</span> <span class="n">memos_timestamp</span> <span class="n">COLUMN_INDEX</span> <span class="n">Memos</span> <span class="n">timestamp</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Memos</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;001&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:23&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;002&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:24&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;003&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:25&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;004&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:26&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;005&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:27&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;006&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:28&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;007&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:29&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;008&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:30&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;009&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:31&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;010&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:32&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;011&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:33&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;012&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:34&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;013&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:35&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;014&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:36&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;015&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:37&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;016&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:38&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;017&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:39&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;018&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:40&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;019&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:41&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;020&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:42&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;021&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:43&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;022&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:44&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;023&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:45&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;024&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:46&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;025&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:47&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;026&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:48&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;027&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:49&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;028&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:50&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;029&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:51&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;030&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:52&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;031&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:53&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;032&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:54&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;033&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:55&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;034&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:56&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;035&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:57&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;036&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:58&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;037&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:25:59&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;038&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:26:00&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;039&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:26:01&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;040&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:26:02&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;041&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:26:03&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;042&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:26:04&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;043&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:26:05&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;044&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:26:06&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;045&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:26:07&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;046&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:26:08&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;047&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:26:09&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;048&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:26:10&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;049&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:26:11&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;050&quot;</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-11-10 07:26:12&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Memos</span> \
  <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;_key == &quot;003&quot; &amp;&amp; </span><span class="se">\</span>
<span class="s1">            between(timestamp, </span><span class="se">\</span>
<span class="s1">                    &quot;2014-11-10 07:25:24&quot;, </span><span class="se">\</span>
<span class="s1">                    &quot;include&quot;, </span><span class="se">\</span>
<span class="s1">                    &quot;2014-11-10 07:27:26&quot;, </span><span class="se">\</span>
<span class="s1">                    &quot;exclude&quot;, </span><span class="se">\</span>
<span class="s1">                    {&quot;too_many_index_match_ratio&quot;: 0.03})&#39;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Tags</span> <span class="n">TABLE_HASH_KEY</span> <span class="n">ShortText</span>

<span class="n">table_create</span> <span class="n">Memos</span> <span class="n">TABLE_HASH_KEY</span> <span class="n">ShortText</span>
<span class="n">column_create</span> <span class="n">Memos</span> <span class="n">tag</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Tags</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Memos</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;Rroonga is fast!&quot;</span><span class="p">,</span> <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;Rroonga&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;Groonga is fast!&quot;</span><span class="p">,</span> <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;Groonga&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;Mroonga is fast!&quot;</span><span class="p">,</span> <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;Mroonga&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;Groonga sticker!&quot;</span><span class="p">,</span> <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;Groonga&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;Groonga is good!&quot;</span><span class="p">,</span> <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;Groonga&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">column_create</span> <span class="n">Tags</span> <span class="n">memos_tag</span> <span class="n">COLUMN_INDEX</span> <span class="n">Memos</span> <span class="n">tag</span>

<span class="n">select</span> \
  <span class="n">Memos</span> \
  <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;_id &gt;= 3 &amp;&amp; </span><span class="se">\</span>
<span class="s1">            in_values(tag, </span><span class="se">\</span>
<span class="s1">                     &quot;Groonga&quot;, </span><span class="se">\</span>
<span class="s1">                     {&quot;too_many_index_match_ratio&quot;: 0.7})&#39;</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span><span class="p">,</span><span class="n">_score</span><span class="p">,</span><span class="n">_key</span><span class="p">,</span><span class="n">tag</span>
</pre></div>
</div>
</li>
<li><p>[<a class="reference internal" href="../reference/functions/between.html"><span class="doc">between</span></a>] Added support for <code class="docutils literal notranslate"><span class="pre">GRN_EXPR_OPTIMIZE=yes</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">between()</span></code> supported for optimizing the order of evaluation of a conditional expression.</p>
</li>
<li><p>[<a class="reference internal" href="../reference/functions/query_parallel_or.html"><span class="doc">query_parallel_or</span></a>][<a class="reference internal" href="../reference/functions/query.html"><span class="doc">query</span></a>] Added support for specifying group of match_columns as vector. [GitHub#1238][Patched by naoa]</p>
<p>We can use vector in <code class="docutils literal notranslate"><span class="pre">match_columns</span></code> of <code class="docutils literal notranslate"><span class="pre">query</span></code> and <code class="docutils literal notranslate"><span class="pre">query_parallel_or</span></code> as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Users</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Users</span> <span class="n">name</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>
<span class="n">column_create</span> <span class="n">Users</span> <span class="n">memo</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>
<span class="n">column_create</span> <span class="n">Users</span> <span class="n">tag</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>

<span class="n">table_create</span> <span class="n">Terms</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span> \
  <span class="o">--</span><span class="n">default_tokenizer</span> <span class="n">TokenNgram</span> \
  <span class="o">--</span><span class="n">normalizer</span> <span class="n">NormalizerNFKC130</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">name</span> <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> <span class="n">Users</span> <span class="n">name</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">memo</span> <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> <span class="n">Users</span> <span class="n">memo</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">tag</span> <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> <span class="n">Users</span> <span class="n">tag</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Users</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Alice&quot;</span><span class="p">,</span> <span class="s2">&quot;memo&quot;</span><span class="p">:</span> <span class="s2">&quot;Groonga user&quot;</span><span class="p">,</span> <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;Groonga&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Bob&quot;</span><span class="p">,</span>   <span class="s2">&quot;memo&quot;</span><span class="p">:</span> <span class="s2">&quot;Rroonga user&quot;</span><span class="p">,</span> <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;Rroonga&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Users</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_score</span><span class="p">,</span><span class="n">name</span> \
  <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;query([&quot;name * 100&quot;, &quot;memo&quot;, &quot;tag * 10&quot;], </span><span class="se">\</span>
<span class="s1">                  &quot;Alice OR Groonga&quot;)&#39;</span>
</pre></div>
</div>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>] Added support for section and weight in prefix search. [GitHub#1240][Patched by naoa]</p>
<p>We can use multi column index and adjusting score in prefix search.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Memos</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Memos</span> <span class="n">title</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>
<span class="n">column_create</span> <span class="n">Memos</span> <span class="n">tags</span> <span class="n">COLUMN_VECTOR</span> <span class="n">ShortText</span>

<span class="n">table_create</span> <span class="n">Terms</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">index</span> <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_SECTION</span> <span class="n">Memos</span> <span class="n">title</span><span class="p">,</span><span class="n">tags</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Memos</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Groonga&quot;</span><span class="p">,</span> <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Groonga&quot;</span><span class="p">]},</span>
<span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Rroonga&quot;</span><span class="p">,</span> <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Groonga&quot;</span><span class="p">,</span> <span class="s2">&quot;Rroonga&quot;</span><span class="p">,</span> <span class="s2">&quot;Ruby&quot;</span><span class="p">]},</span>
<span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Mroonga&quot;</span><span class="p">,</span> <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Groonga&quot;</span><span class="p">,</span> <span class="s2">&quot;Mroonga&quot;</span><span class="p">,</span> <span class="s2">&quot;MySQL&quot;</span><span class="p">]}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Memos</span> \
  <span class="o">--</span><span class="n">match_columns</span> <span class="s2">&quot;Terms.index.title * 2&quot;</span> \
  <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;G*&#39;</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">title</span><span class="p">,</span><span class="n">tags</span><span class="p">,</span><span class="n">_score</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">0.0</span><span class="p">,</span>
    <span class="mf">0.0</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">1</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;title&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;tags&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;_score&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Int32&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;Groonga&quot;</span><span class="p">,</span>
        <span class="p">[</span>
          <span class="s2">&quot;Groonga&quot;</span>
        <span class="p">],</span>
        <span class="mi">2</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>[<a class="reference internal" href="../reference/executables/grndb.html"><span class="doc">grndb</span></a>] Added support for closing used object immediately in <code class="docutils literal notranslate"><span class="pre">grndb</span> <span class="pre">recover</span></code>.</p>
<p>We can reduce memory usage by this.
This may decrease performance but it will be acceptable.</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">grndb</span> <span class="pre">check</span></code> doesn’t close used objects immediately yet.</p>
</li>
<li><p>[<a class="reference internal" href="../reference/functions/query_parallel_or.html"><span class="doc">query_parallel_or</span></a>][<a class="reference internal" href="../reference/functions/query.html"><span class="doc">query</span></a>] Added support for specifying <code class="docutils literal notranslate"><span class="pre">scorer_tf_idf</span></code> in <code class="docutils literal notranslate"><span class="pre">match_columns</span></code> as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Tags</span> <span class="n">TABLE_HASH_KEY</span> <span class="n">ShortText</span>

<span class="n">table_create</span> <span class="n">Users</span> <span class="n">TABLE_HASH_KEY</span> <span class="n">ShortText</span>
<span class="n">column_create</span> <span class="n">Users</span> <span class="n">tags</span> <span class="n">COLUMN_VECTOR</span> <span class="n">Tags</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Users</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;Alice&quot;</span><span class="p">,</span>
 <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;beginner&quot;</span><span class="p">,</span> <span class="s2">&quot;active&quot;</span><span class="p">]},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;Bob&quot;</span><span class="p">,</span>
 <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;expert&quot;</span><span class="p">,</span> <span class="s2">&quot;passive&quot;</span><span class="p">]},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;Chris&quot;</span><span class="p">,</span>
 <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;beginner&quot;</span><span class="p">,</span> <span class="s2">&quot;passive&quot;</span><span class="p">]}</span>
<span class="p">]</span>

<span class="n">column_create</span> <span class="n">Tags</span> <span class="n">users</span> <span class="n">COLUMN_INDEX</span> <span class="n">Users</span> <span class="n">tags</span>

<span class="n">select</span> <span class="n">Users</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">_score</span> \
  <span class="o">--</span><span class="n">sort_keys</span> <span class="n">_id</span> \
  <span class="o">--</span><span class="n">command_version</span> <span class="mi">3</span> \
  <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;query_parallel_or(&quot;scorer_tf_idf(tags)&quot;, </span><span class="se">\</span>
<span class="s1">                              &quot;beginner active&quot;)&#39;</span>
<span class="p">{</span>
  <span class="s2">&quot;header&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;return_code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;start_time&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
    <span class="s2">&quot;elapsed_time&quot;</span><span class="p">:</span> <span class="mf">0.0</span>
  <span class="p">},</span>
  <span class="s2">&quot;body&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;n_hits&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;columns&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;_key&quot;</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;ShortText&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;_score&quot;</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Float&quot;</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;records&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">[</span>
        <span class="s2">&quot;Alice&quot;</span><span class="p">,</span>
        <span class="mf">2.098612308502197</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/query_expand.html"><span class="doc">query_expand</span></a>] Added support for weighted increment, decrement, and negative.</p>
<p>We can specify weight against expanded words.</p>
<p>If we want to increment score, we use <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>.
If we want to decrement score, we use <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>.</p>
<p>We can specify the quantity of scores as a number. We can also use a negative numbers in it.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">TermExpansions</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">TermExpansions</span> <span class="n">term</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>
<span class="n">column_create</span> <span class="n">TermExpansions</span> <span class="n">expansions</span> <span class="n">COLUMN_VECTOR</span> <span class="n">ShortText</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">TermExpansions</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;term&quot;</span><span class="p">:</span> <span class="s2">&quot;Rroonga&quot;</span><span class="p">,</span> <span class="s2">&quot;expansions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Rroonga&quot;</span><span class="p">,</span> <span class="s2">&quot;Ruby Groonga&quot;</span><span class="p">]}</span>
<span class="p">]</span>

<span class="n">query_expand</span> <span class="n">TermExpansions</span> <span class="s2">&quot;Groonga &lt;-0.2Rroonga Mroonga&quot;</span> \
  <span class="o">--</span><span class="n">term_column</span> <span class="n">term</span> \
  <span class="o">--</span><span class="n">expanded_term_column</span> <span class="n">expansions</span>
<span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span><span class="s2">&quot;Groonga &lt;-0.2((Rroonga) OR (Ruby Groonga)) Mroonga&quot;</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>[httpd] Updated bundled nginx to 1.21.1.</p></li>
<li><p>Updated bundled Apache Arrow to 5.0.0.</p></li>
<li><p>[<a class="reference internal" href="../install/ubuntu.html"><span class="doc">Ubuntu</span></a>] Dropped Ubuntu 20.10 (Groovy Gorilla) support.</p>
<ul class="simple">
<li><p>Because Ubuntu 20.10 reached EOL July 22, 2021.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id21">
<h3>Fixes<a class="headerlink" href="#id21" title="Link to this heading">#</a></h3>
<ul>
<li><p>[<a class="reference internal" href="../reference/functions/query_parallel_or.html"><span class="doc">query_parallel_or</span></a>][<a class="reference internal" href="../reference/functions/query.html"><span class="doc">query</span></a>] Fixed a bug that if we specify <code class="docutils literal notranslate"><span class="pre">query_options</span></code> and the other options, the other options are ignored.</p>
<p>For example, <code class="docutils literal notranslate"><span class="pre">&quot;default_operator&quot;:</span> <span class="pre">&quot;OR&quot;</span></code> option had been ignored in the following case.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plugin_register</span> <span class="n">token_filters</span><span class="o">/</span><span class="n">stop_word</span>

<span class="n">table_create</span> <span class="n">Memos</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Memos</span> <span class="n">content</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>

<span class="n">table_create</span> <span class="n">Terms</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span> \
  <span class="o">--</span><span class="n">default_tokenizer</span> <span class="n">TokenBigram</span> \
  <span class="o">--</span><span class="n">normalizer</span> <span class="n">NormalizerAuto</span> \
  <span class="o">--</span><span class="n">token_filters</span> <span class="n">TokenFilterStopWord</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">memos_content</span> <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> <span class="n">Memos</span> <span class="n">content</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">is_stop_word</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Bool</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Terms</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;and&quot;</span><span class="p">,</span> <span class="s2">&quot;is_stop_word&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Memos</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello and Good-bye&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;and&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Good-bye&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Memos</span> \
  <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;query_parallel_or( </span><span class="se">\</span>
<span class="s1">              &quot;content&quot;, </span><span class="se">\</span>
<span class="s1">              &quot;Hello and&quot;, </span><span class="se">\</span>
<span class="s1">              {&quot;default_operator&quot;: &quot;OR&quot;, </span><span class="se">\</span>
<span class="s1">               &quot;options&quot;: {&quot;TokenFilterStopWord.enable&quot;: false}})&#39;</span> \
  <span class="o">--</span><span class="n">match_escalation_threshold</span> <span class="o">-</span><span class="mi">1</span> \
  <span class="o">--</span><span class="n">sort_keys</span> <span class="o">-</span><span class="n">_score</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">0.0</span><span class="p">,</span>
    <span class="mf">0.0</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">1</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;_id&quot;</span><span class="p">,</span>
          <span class="s2">&quot;UInt32&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;content&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="mi">2</span><span class="p">,</span>
        <span class="s2">&quot;Hello and Good-bye&quot;</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="id22">
<h3>Known Issues<a class="headerlink" href="#id22" title="Link to this heading">#</a></h3>
<ul>
<li><p>Currently, Groonga has a bug that there is possible that data is corrupt when we execute many additions, delete, and update data to vector column.</p></li>
<li><p>[The browser based administration tool] Currently, Groonga has a bug that a search query that is inputted to non-administration mode is sent even if we input checks to the checkbox for the administration mode of a record list.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">*&gt;</span></code> only valid when we use <code class="docutils literal notranslate"><span class="pre">query()</span></code> the right side of filter condition.
If we specify as below, <code class="docutils literal notranslate"><span class="pre">*&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">*&gt;</span></code> work as <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Groonga&quot;</span> <span class="pre">*&lt;</span> <span class="pre">content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Mroonga&quot;'</span></code></p></li>
</ul>
</div></blockquote>
</li>
<li><p>If we repeat that we remove any data and load them again, Groonga may not return records that should match.</p></li>
</ul>
</section>
<section id="id23">
<h3>Thanks<a class="headerlink" href="#id23" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>naoa</p></li>
</ul>
</section>
</section>
<section id="release-11-0-4-2021-06-29">
<span id="release-11-0-4"></span><h2>Release 11.0.4 - 2021-06-29<a class="headerlink" href="#release-11-0-4-2021-06-29" title="Link to this heading">#</a></h2>
<section id="id24">
<h3>Improvements<a class="headerlink" href="#id24" title="Link to this heading">#</a></h3>
<ul>
<li><p>[Normalizer] Added support for customized normalizer.</p>
<p>We define a table for normalize to use this feature.
We can normalize with use that table.
In other words, we can use customized normalizer.</p>
<p>For example, we define that “S” normalize to “5” in the following example.
The <code class="docutils literal notranslate"><span class="pre">Substitutions</span></code> table is for nromalize.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Substitutions</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span>
<span class="n">column_create</span> <span class="n">Substitutions</span> <span class="n">substituted</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>
<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Substitutions</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;S&quot;</span><span class="p">,</span> <span class="s2">&quot;substituted&quot;</span><span class="p">:</span> <span class="s2">&quot;5&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">table_create</span> <span class="n">TelLists</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">TelLists</span> <span class="n">tel</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>

<span class="n">table_create</span> <span class="n">Terms</span> <span class="n">TABLE_HASH_KEY</span> <span class="n">ShortText</span> \
  <span class="o">--</span><span class="n">default_tokenizer</span> <span class="n">TokenNgram</span> \
  <span class="o">--</span><span class="n">normalizer</span> <span class="s1">&#39;NormalizerTable(&quot;column&quot;, &quot;Substitutions.substituted&quot;, </span><span class="se">\</span>
<span class="s1">                                &quot;report_source_offset&quot;, true)&#39;</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">tel_index</span> <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> <span class="n">TelLists</span> <span class="n">tel</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">TelLists</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;tel&quot;</span><span class="p">:</span> <span class="s2">&quot;03-4S-1234&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">TelLists</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;tel @ &quot;03-45-1234&quot;&#39;</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">1624686303.538532</span><span class="p">,</span>
    <span class="mf">0.001319169998168945</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">1</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;_id&quot;</span><span class="p">,</span>
          <span class="s2">&quot;UInt32&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;tel&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;03-4S-1234&quot;</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</div></blockquote>
<p>For example, we can define to the table easy to false recognize words when we input a handwritten data.
By this, we can normalize incorrect data to correct data.</p>
<p>Note that we need to reconstruct the index if we updated the table for normalize.</p>
</li>
<li><p>Added a new command <code class="docutils literal notranslate"><span class="pre">object_warm</span></code>.</p>
<p>This commnad ship Groonga’s DB to OS’s page cache.</p>
<p>If we never startup Groonga after OS startup, Groonga’s DB doesn’t exist on OS’s page cache
When Groonga on the first run.
Therefore, the first operation to Groonga is slow.</p>
<p>If we execute this command in advance, the first operation to Groonga is fast.
In Linux, we can do the same by also executing <code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">*.db</span> <span class="pre">&gt;</span> <span class="pre">dev/null</span></code>.
However, we could not do the same thing in Windows until now.</p>
<p>By using this command, we can ship Groonga’s DB to OS’s page cache in both Linux and Windows.
Then, we can also do that in units of table, column, and index.
Therefore, we can ship only table, column, and index that we often use to OS’s page cache.</p>
<p>We can execute this command against various targets as below.</p>
<blockquote>
<div><ul class="simple">
<li><p>If we specify <code class="docutils literal notranslate"><span class="pre">object_warm</span> <span class="pre">--name</span> <span class="pre">index_name</span></code>, the index is shipped to OS’s page cache.</p></li>
<li><p>If we specify <code class="docutils literal notranslate"><span class="pre">object_warm</span> <span class="pre">--name</span> <span class="pre">column_name</span></code>, the column is shipped to OS’s page cache.</p></li>
<li><p>If we specify <code class="docutils literal notranslate"><span class="pre">object_warm</span> <span class="pre">--name</span> <span class="pre">table_name</span></code> is shipped to OS’s page cache.</p></li>
<li><p>If we specify <code class="docutils literal notranslate"><span class="pre">object_warm</span></code>, whole Groonga’s database is shipped to OS’s page cache.</p></li>
</ul>
</div></blockquote>
<p>However, note that if OS has not empty space on memory, this command has no effect.</p>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>] Added support for adjusting the score of a specific record in <code class="docutils literal notranslate"><span class="pre">--filter</span></code>.</p>
<p>We can adjust the score of a specific record by using a oprtator named <code class="docutils literal notranslate"><span class="pre">*~</span></code>.
<code class="docutils literal notranslate"><span class="pre">*~</span></code> is logical operator same as <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code> and <code class="docutils literal notranslate"><span class="pre">||</span></code>. Therefore, we can use <code class="docutils literal notranslate"><span class="pre">*~</span></code> like as <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code> ans <code class="docutils literal notranslate"><span class="pre">||</span></code>.
Default weight of <code class="docutils literal notranslate"><span class="pre">*~</span></code> is -1.</p>
<p>Therefore, for example, <code class="docutils literal notranslate"><span class="pre">'content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Groonga&quot;</span> <span class="pre">*~</span> <span class="pre">content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Mroonga&quot;'</span></code> mean the following operations.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Extract records that match <code class="docutils literal notranslate"><span class="pre">'content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Groonga&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Mroonga&quot;'</span></code>.</p></li>
<li><p>Add a score as below.</p>
<ol class="loweralpha simple">
<li><p>Calculate the score of <code class="docutils literal notranslate"><span class="pre">'content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Groonga&quot;</span></code>.</p></li>
<li><p>Calculate the score of <code class="docutils literal notranslate"><span class="pre">'content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Mroonga&quot;'</span></code>.</p></li>
<li><p>b’s score multiplied by -1 by <code class="docutils literal notranslate"><span class="pre">*~</span></code>.</p></li>
<li><p>The socre of this record is a + b
Therefore, if a’s socre is 1 and b’s score is 1, the score of this record  is 1 + (1 * -1) = 0.</p></li>
</ol>
</li>
</ol>
</div></blockquote>
<p>Then, we can specify score quantity by <code class="docutils literal notranslate"><span class="pre">*~${score_quantity}</span></code>.</p>
<p>In particular, the following query adjust the score of match records by the following condition(<code class="docutils literal notranslate"><span class="pre">'content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Groonga&quot;</span> <span class="pre">*~2.5</span> <span class="pre">content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Mroonga&quot;)'</span></code> ).</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Memos</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Memos</span> <span class="n">content</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>

<span class="n">table_create</span> <span class="n">Terms</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span> \
  <span class="o">--</span><span class="n">default_tokenizer</span> <span class="n">TokenBigram</span> \
  <span class="o">--</span><span class="n">normalizer</span> <span class="n">NormalizerAuto</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">index</span> <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> <span class="n">Memos</span> <span class="n">content</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Memos</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Groonga is a full text search engine.&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Rroonga is the Ruby bindings of Groonga.&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Mroonga is a MySQL storage engine based of Groonga.&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Memos</span> \
  <span class="o">--</span><span class="n">command_version</span> <span class="mi">3</span> \
  <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content @ &quot;Groonga&quot; *~2.5 content @ &quot;Mroonga&quot;&#39;</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="s1">&#39;content, _score&#39;</span> \
  <span class="o">--</span><span class="n">sort_keys</span> <span class="o">-</span><span class="n">_score</span><span class="p">,</span><span class="n">_id</span>
<span class="p">{</span>
  <span class="s2">&quot;header&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;return_code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;start_time&quot;</span><span class="p">:</span> <span class="mf">1624605205.641078</span><span class="p">,</span>
    <span class="s2">&quot;elapsed_time&quot;</span><span class="p">:</span> <span class="mf">0.002965450286865234</span>
  <span class="p">},</span>
  <span class="s2">&quot;body&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;n_hits&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s2">&quot;columns&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;content&quot;</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;ShortText&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;_score&quot;</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Float&quot;</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;records&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">[</span>
        <span class="s2">&quot;Groonga is a full text search engine.&quot;</span><span class="p">,</span>
        <span class="mf">1.0</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;Rroonga is the Ruby bindings of Groonga.&quot;</span><span class="p">,</span>
        <span class="mf">1.0</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;Mroonga is a MySQL storage engine based of Groonga.&quot;</span><span class="p">,</span>
        <span class="o">-</span><span class="mf">1.5</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>We can do the same by also useing <a class="reference internal" href="../reference/commands/select.html#select-adjuster"><span class="std std-ref">adjuster</span></a> .
If we use <a class="reference internal" href="../reference/commands/select.html#select-adjuster"><span class="std std-ref">adjuster</span></a> , we need to make <code class="docutils literal notranslate"><span class="pre">--filter</span></code> condition and <code class="docutils literal notranslate"><span class="pre">--adjuster</span></code> conditon on our application, but we make only <code class="docutils literal notranslate"><span class="pre">--filter</span></code> condition on it by this improvement.</p>
<p>We can also describe filter condition as below by using <code class="docutils literal notranslate"><span class="pre">query()</span></code>.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--filter</span> <span class="pre">'content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Groonga&quot;</span> <span class="pre">*~2.5</span> <span class="pre">content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Mroonga&quot;'</span></code></p></li>
</ul>
</div></blockquote>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>] Added support for <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code> with weight.</p>
<p>We can use <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code> with weight by using <code class="docutils literal notranslate"><span class="pre">*&lt;</span></code> or <code class="docutils literal notranslate"><span class="pre">*&gt;</span></code>.
Default weight of <code class="docutils literal notranslate"><span class="pre">*&lt;</span></code> is 0.5. Default weight of <code class="docutils literal notranslate"><span class="pre">*&gt;</span></code> is 2.0.</p>
<p>We can specify score quantity by <code class="docutils literal notranslate"><span class="pre">*&lt;${score_quantity}</span></code> and <code class="docutils literal notranslate"><span class="pre">*&gt;${score_quantity}</span></code>.
Then, if we specify <code class="docutils literal notranslate"><span class="pre">*&lt;${score_quantity}</span></code>, a plus or minus sign of <code class="docutils literal notranslate"><span class="pre">${score_quantity}</span></code> is reverse.</p>
<p>For example, <code class="docutils literal notranslate"><span class="pre">'content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Groonga&quot;</span> <span class="pre">*&lt;2.5</span> <span class="pre">query(&quot;content&quot;,</span> <span class="pre">&quot;MySQL&quot;)'</span></code> is as below.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Extract records that match <code class="docutils literal notranslate"><span class="pre">'content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Groonga&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Mroonga&quot;'</span></code>.</p></li>
<li><p>Add a score as below.</p>
<ol class="loweralpha simple">
<li><p>Calculate the score of <code class="docutils literal notranslate"><span class="pre">'content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Groonga&quot;</span></code>.</p></li>
<li><p>Calculate the score of <code class="docutils literal notranslate"><span class="pre">query(&quot;content&quot;,</span> <span class="pre">&quot;MySQL&quot;)</span></code>.</p></li>
<li><p>b’s score multiplied by -2.5 by <code class="docutils literal notranslate"><span class="pre">*&lt;</span></code>.</p></li>
<li><p>The socre of this record is a + b
Therefore, if a’s socre is 1 and b’s score is 1, the score of this record is 1 + (1 * -2.5) = -1.5.</p></li>
</ol>
</li>
</ol>
</div></blockquote>
<p>In particular, the following query adjust the score of match records by the following condition( <code class="docutils literal notranslate"><span class="pre">'content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Groonga&quot;</span> <span class="pre">*&lt;2.5</span> <span class="pre">query(&quot;content&quot;,</span> <span class="pre">&quot;Mroonga&quot;)'</span></code> ).</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Memos</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Memos</span> <span class="n">content</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>

<span class="n">table_create</span> <span class="n">Terms</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span> \
  <span class="o">--</span><span class="n">default_tokenizer</span> <span class="n">TokenBigram</span> \
  <span class="o">--</span><span class="n">normalizer</span> <span class="n">NormalizerAuto</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">index</span> <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> <span class="n">Memos</span> <span class="n">content</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Memos</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Groonga is a full text search engine.&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Rroonga is the Ruby bindings of Groonga.&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Mroonga is a MySQL storage engine based of Groonga.&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Memos</span> \
  <span class="o">--</span><span class="n">command_version</span> <span class="mi">3</span> \
  <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content @ &quot;Groonga&quot; *&lt;2.5 query(&quot;content&quot;, &quot;Mroonga&quot;)&#39;</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="s1">&#39;content, _score&#39;</span> \
  <span class="o">--</span><span class="n">sort_keys</span> <span class="o">-</span><span class="n">_score</span><span class="p">,</span><span class="n">_id</span>
<span class="p">{</span>
  <span class="s2">&quot;header&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;return_code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;start_time&quot;</span><span class="p">:</span> <span class="mf">1624605205.641078</span><span class="p">,</span>
    <span class="s2">&quot;elapsed_time&quot;</span><span class="p">:</span> <span class="mf">0.002965450286865234</span>
  <span class="p">},</span>
  <span class="s2">&quot;body&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;n_hits&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s2">&quot;columns&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;content&quot;</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;ShortText&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;_score&quot;</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Float&quot;</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;records&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">[</span>
        <span class="s2">&quot;Groonga is a full text search engine.&quot;</span><span class="p">,</span>
        <span class="mf">1.0</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;Rroonga is the Ruby bindings of Groonga.&quot;</span><span class="p">,</span>
        <span class="mf">1.0</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;Mroonga is a MySQL storage engine based of Groonga.&quot;</span><span class="p">,</span>
        <span class="o">-</span><span class="mf">1.5</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>[<a class="reference internal" href="../reference/log.html"><span class="doc">Log</span></a>] Added support for outputting to stdout and stderr.</p>
<p>[<a class="reference internal" href="../reference/log.html#process-log"><span class="std std-ref">Process log</span></a>] and [<a class="reference internal" href="../reference/log.html#query-log"><span class="std std-ref">Query log</span></a>] supported　output to stdout and stderr.</p>
<blockquote>
<div><ul class="simple">
<li><p>If we specify as <code class="docutils literal notranslate"><span class="pre">--log-path</span> <span class="pre">-</span></code>, <code class="docutils literal notranslate"><span class="pre">--query-log-path</span> <span class="pre">-</span></code>, Groonga output log to stdout.</p></li>
<li><p>If we specify as <code class="docutils literal notranslate"><span class="pre">--log-path</span> <span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">--query-log-path</span> <span class="pre">+</span></code>, Groonga output log to stderr.</p></li>
</ul>
</div></blockquote>
<p>[<a class="reference internal" href="../reference/log.html#process-log"><span class="std std-ref">Process log</span></a>] is for all of Groonga works.
[<a class="reference internal" href="../reference/log.html#query-log"><span class="std std-ref">Query log</span></a>] is just for query processing.</p>
<p>This feature is useful when we execute Groonga on Docker.
Docker has the feature that records stdout and stderr in standard.
Therefore, we don’t need to login into the environment of Docker to get Groonga’s log.</p>
<p>For example, this feature is useful as he following case.</p>
<blockquote>
<div><ul>
<li><p>If we want to analyze slow queries of Groonga on Docker.</p>
<p>If we specify <code class="docutils literal notranslate"><span class="pre">--query-log-path</span> <span class="pre">-</span></code> when startup Groonga, we can analyze slow queries by only execution the following commands.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">logs</span> <span class="pre">${container_name}</span> <span class="pre">|</span> <span class="pre">groonga-query-log-analyze</span></code></p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>By this, we can analyze slow query with the query log that output from Groonga on Docker simply.</p>
</li>
<li><p>[Documentation] Filled missing documentation of <code class="docutils literal notranslate"><span class="pre">string_substring</span></code>. [GitHub#1209][Patched by Takashi Hashida]</p></li>
</ul>
</section>
<section id="id25">
<h3>Known Issues<a class="headerlink" href="#id25" title="Link to this heading">#</a></h3>
<ul>
<li><p>Currently, Groonga has a bug that there is possible that data is corrupt when we execute many additions, delete, and update data to vector column.</p></li>
<li><p>[The browser based administration tool] Currently, Groonga has a bug that a search query that is inputted to non-administration mode is sent even if we input checks to the checkbox for the administration mode of a record list.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">*&gt;</span></code> only valid when we use <code class="docutils literal notranslate"><span class="pre">query()</span></code> the right side of filter condition.
If we specify as below, <code class="docutils literal notranslate"><span class="pre">*&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">*&gt;</span></code> work as <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Groonga&quot;</span> <span class="pre">*&lt;</span> <span class="pre">content</span> <span class="pre">&#64;</span> <span class="pre">&quot;Mroonga&quot;'</span></code></p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="id26">
<h3>Thanks<a class="headerlink" href="#id26" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Takashi Hashida</p></li>
</ul>
</section>
</section>
<section id="release-11-0-3-2021-05-29">
<span id="release-11-0-3"></span><h2>Release 11.0.3 - 2021-05-29<a class="headerlink" href="#release-11-0-3-2021-05-29" title="Link to this heading">#</a></h2>
<section id="id27">
<h3>Improvements<a class="headerlink" href="#id27" title="Link to this heading">#</a></h3>
<ul>
<li><p>[<a class="reference internal" href="../reference/functions/query.html"><span class="doc">query</span></a>] Added support for ignoring <code class="docutils literal notranslate"><span class="pre">TokenFilterStem</span></code> by the query.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">TokenFilterStem</span></code> can search by using a stem.
For example, all of <code class="docutils literal notranslate"><span class="pre">develop</span></code>, <code class="docutils literal notranslate"><span class="pre">developing</span></code>, <code class="docutils literal notranslate"><span class="pre">developed</span></code> and <code class="docutils literal notranslate"><span class="pre">develops</span></code> tokens are stemmed as <code class="docutils literal notranslate"><span class="pre">develop</span></code>.
So we can find <code class="docutils literal notranslate"><span class="pre">develop</span></code>, <code class="docutils literal notranslate"><span class="pre">developing</span></code> and <code class="docutils literal notranslate"><span class="pre">developed</span></code> by <code class="docutils literal notranslate"><span class="pre">develops</span></code> query.</p></li>
<li><p>In this release, we are able to search without <code class="docutils literal notranslate"><span class="pre">TokenFilterStem</span></code> in only a specific query as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plugin_register</span> <span class="n">token_filters</span><span class="o">/</span><span class="n">stem</span>

<span class="n">table_create</span> <span class="n">Memos</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Memos</span> <span class="n">content</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>

<span class="n">table_create</span> <span class="n">Terms</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span> \
  <span class="o">--</span><span class="n">default_tokenizer</span> <span class="n">TokenBigram</span> \
  <span class="o">--</span><span class="n">normalizer</span> <span class="n">NormalizerAuto</span> \
  <span class="o">--</span><span class="n">token_filters</span> <span class="s1">&#39;TokenFilterStem(&quot;keep_original&quot;, true)&#39;</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">memos_content</span> <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> <span class="n">Memos</span> <span class="n">content</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Memos</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;I develop Groonga&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;I&#39;m developing Groonga&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;I developed Groonga&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Memos</span> \
  <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> \
  <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;&quot;developed groonga&quot;&#39;</span> \
  <span class="o">--</span><span class="n">query_options</span> <span class="s1">&#39;{&quot;TokenFilterStem.enable&quot;: false}&#39;</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">0.0</span><span class="p">,</span>
    <span class="mf">0.0</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">1</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;_id&quot;</span><span class="p">,</span>
          <span class="s2">&quot;UInt32&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;content&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;I developed Groonga&quot;</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>This feature is useful when users want to search by a stemmed word generally but users sometimes want to search by a exact (not stemmed) word as below.</p>
<ul class="simple">
<li><p>If Groonga returns many results when searching by a stemmed word.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">TokenFilterStem</span></code> returns the wrong result of stemming.</p></li>
<li><p>If we want to find only records that have an exact (not stemmed) word.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../reference/functions/query.html"><span class="doc">query</span></a>] Added support for ignoring <code class="docutils literal notranslate"><span class="pre">TokenFilterStopWord</span></code> by the query.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">TokenFilterStopWord</span></code> searched without stop word that we registered beforehand.
It uses for reducing noise of search by ignoring frequently word (e.g., <code class="docutils literal notranslate"><span class="pre">and</span></code>, <code class="docutils literal notranslate"><span class="pre">is</span></code>, and so on.).</p></li>
<li><p>However, we sometimes want to search include these words only a specific query. In this release, we are able to search without <code class="docutils literal notranslate"><span class="pre">TokenFilterStopWord</span></code> in only a specific query as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plugin_register</span> <span class="n">token_filters</span><span class="o">/</span><span class="n">stop_word</span>

<span class="n">table_create</span> <span class="n">Memos</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Memos</span> <span class="n">content</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>

<span class="n">table_create</span> <span class="n">Terms</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span> \
  <span class="o">--</span><span class="n">default_tokenizer</span> <span class="n">TokenBigram</span> \
  <span class="o">--</span><span class="n">normalizer</span> <span class="n">NormalizerAuto</span> \
  <span class="o">--</span><span class="n">token_filters</span> <span class="n">TokenFilterStopWord</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">memos_content</span> <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> <span class="n">Memos</span> <span class="n">content</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">is_stop_word</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Bool</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Terms</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;and&quot;</span><span class="p">,</span> <span class="s2">&quot;is_stop_word&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Memos</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello and Good-bye&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Good-bye&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Memos</span> \
  <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> \
  <span class="o">--</span><span class="n">query</span> <span class="s2">&quot;Hello and&quot;</span> \
  <span class="o">--</span><span class="n">query_options</span> <span class="s1">&#39;{&quot;TokenFilterStopWord.enable&quot;: false}&#39;</span> \
  <span class="o">--</span><span class="n">match_escalation_threshold</span> <span class="o">-</span><span class="mi">1</span> \
  <span class="o">--</span><span class="n">sort_keys</span> <span class="o">-</span><span class="n">_score</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">0.0</span><span class="p">,</span>
    <span class="mf">0.0</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">1</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;_id&quot;</span><span class="p">,</span>
          <span class="s2">&quot;UInt32&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;content&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="mi">2</span><span class="p">,</span>
        <span class="s2">&quot;Hello and Good-bye&quot;</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>In the above example, we specify <code class="docutils literal notranslate"><span class="pre">TokenFilterStopWord.enable</span></code> by using <code class="docutils literal notranslate"><span class="pre">--query-options</span></code>, but we also specify it by using <code class="docutils literal notranslate"><span class="pre">{&quot;options&quot;:</span> <span class="pre">{&quot;TokenFilterStopWord.enable&quot;:</span> <span class="pre">false}}</span></code> as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plugin_register</span> <span class="n">token_filters</span><span class="o">/</span><span class="n">stop_word</span>

<span class="n">table_create</span> <span class="n">Memos</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Memos</span> <span class="n">content</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>

<span class="n">table_create</span> <span class="n">Terms</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span> \
  <span class="o">--</span><span class="n">default_tokenizer</span> <span class="n">TokenBigram</span> \
  <span class="o">--</span><span class="n">normalizer</span> <span class="n">NormalizerAuto</span> \
  <span class="o">--</span><span class="n">token_filters</span> <span class="n">TokenFilterStopWord</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">memos_content</span> <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> <span class="n">Memos</span> <span class="n">content</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">is_stop_word</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Bool</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Terms</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;and&quot;</span><span class="p">,</span> <span class="s2">&quot;is_stop_word&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Memos</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello and Good-bye&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Good-bye&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Memos</span> \
  <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;query(&quot;content&quot;, </span><span class="se">\</span>
<span class="s1">                  &quot;Hello and&quot;, </span><span class="se">\</span>
<span class="s1">                  {&quot;options&quot;: {&quot;TokenFilterStopWord.enable&quot;: false}})&#39;</span> \
  <span class="o">--</span><span class="n">match_escalation_threshold</span> <span class="o">-</span><span class="mi">1</span> \
  <span class="o">--</span><span class="n">sort_keys</span> <span class="o">-</span><span class="n">_score</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">0.0</span><span class="p">,</span>
    <span class="mf">0.0</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">1</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;_id&quot;</span><span class="p">,</span>
          <span class="s2">&quot;UInt32&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;content&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="mi">2</span><span class="p">,</span>
        <span class="s2">&quot;Hello and Good-bye&quot;</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>This feature is useful if that Groonga can’t return results correctly if we don’t search by keywords include commonly used words (e.g., if a search for a song title, a shop name, and so on.).</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../reference/normalizers.html"><span class="doc">Normalizers</span></a>][NormalizerNFKC] Added a new option <code class="docutils literal notranslate"><span class="pre">remove_new_line</span></code>.</p>
<ul class="simple">
<li><p>If we want to normalize the key of a table that stores data, we set a normalizer to it.
However, normally, normalizers remove a new line.</p></li>
<li><p>Groonga can’t handle a key that is only a new line.</p></li>
<li><p>We can register data that is only a new line as key by this option.</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../reference/functions/string_slice.html"><span class="doc">string_slice</span></a>] Added a new function <code class="docutils literal notranslate"><span class="pre">string_slice()</span></code>. [Github#1177][Patched by Takashi Hashida]</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">string_slice()</span></code> extracts a substring of a string.</p></li>
<li><p>To enable this function, we need to register <code class="docutils literal notranslate"><span class="pre">functions/string</span></code> plugin.</p></li>
<li><p>We can use two different extraction methods depending on the arguments as below.</p>
<ul>
<li><p>Extraction by position:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plugin_register</span> <span class="n">functions</span><span class="o">/</span><span class="n">string</span>
<span class="n">table_create</span> <span class="n">Memos</span> <span class="n">TABLE_HASH_KEY</span> <span class="n">ShortText</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Memos</span>
<span class="p">[</span>
  <span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;Groonga&quot;</span><span class="p">}</span>
<span class="p">]</span>
<span class="n">select</span> <span class="n">Memos</span> <span class="o">--</span><span class="n">output_columns</span> <span class="s1">&#39;_key, string_slice(_key, 2, 3)&#39;</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">1337566253.89858</span><span class="p">,</span>
    <span class="mf">0.000355720520019531</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">1</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;_key&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;string_slice&quot;</span><span class="p">,</span>
          <span class="n">null</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;Groonga&quot;</span><span class="p">,</span>
        <span class="s2">&quot;oon&quot;</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>Extraction by regular expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plugin_register</span> <span class="n">functions</span><span class="o">/</span><span class="n">string</span>
<span class="n">table_create</span> <span class="n">Memos</span> <span class="n">TABLE_HASH_KEY</span> <span class="n">ShortText</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Memos</span>
<span class="p">[</span>
  <span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;Groonga&quot;</span><span class="p">}</span>
<span class="p">]</span>
<span class="n">select</span> <span class="n">Memos</span> <span class="o">--</span><span class="n">output_columns</span> <span class="s1">&#39;_key, string_slice(_key, &quot;(Gro+)(.*)&quot;, 2)&#39;</span>
<span class="p">[</span>
  <span class="p">[</span><span class="n">p</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">1337566253.89858</span><span class="p">,</span>
    <span class="mf">0.000355720520019531</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">1</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;_key&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;string_slice&quot;</span><span class="p">,</span>
          <span class="n">null</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;Groonga&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nga&quot;</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../install/ubuntu.html"><span class="doc">Ubuntu</span></a>] Dropped support for Ubuntu 16.04 LTS (Xenial Xerus).</p></li>
<li><p>Added EditorConfig for Visual Studio. [GitHub#1191][Patched by Takashi Hashida]</p>
<ul class="simple">
<li><p>Most settings are for Visual Studio only.</p></li>
</ul>
</li>
<li><p>[httpd] Updated bundled nginx to 1.20.1.</p>
<ul class="simple">
<li><p>Contains security fix of CVE-2021-23017.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id28">
<h3>Fixes<a class="headerlink" href="#id28" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Fixed a bug that Groonga may not have returned a result of a search query if we sent many search queries when tokenizer, normalizer, or token_filters that support options were used.</p></li>
</ul>
</section>
<section id="id29">
<h3>Known Issues<a class="headerlink" href="#id29" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Currently, Groonga has a bug that there is possible that data is corrupt when we execute many additions, delete, and update data to vector column.</p></li>
<li><p>[The browser based administration tool] Currently, Groonga has a bug that a search query that is inputted to non-administration mode is sent even if we input checks to the checkbox for the administration mode of a record list.</p></li>
</ul>
</section>
<section id="id30">
<h3>Thanks<a class="headerlink" href="#id30" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Takashi Hashida</p></li>
</ul>
</section>
</section>
<section id="release-11-0-2-2021-05-10">
<span id="release-11-0-2"></span><h2>Release 11.0.2 - 2021-05-10<a class="headerlink" href="#release-11-0-2-2021-05-10" title="Link to this heading">#</a></h2>
<section id="id31">
<h3>Improvements<a class="headerlink" href="#id31" title="Link to this heading">#</a></h3>
<ul>
<li><p>[Documentation] Removed a reference about <code class="docutils literal notranslate"><span class="pre">ruby_load</span></code> command. [GitHub#1172][Patched by Anthony M. Cook]</p>
<ul class="simple">
<li><p>Because this command has already deleted.</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../install/debian.html"><span class="doc">Debian GNU/Linux</span></a>] Added support for Debian 11(Bullseye).</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>] Added support for <code class="docutils literal notranslate"><span class="pre">--post_filter</span></code>.</p>
<ul>
<li><p>We can use <code class="docutils literal notranslate"><span class="pre">post_filter</span></code> to filter by <code class="docutils literal notranslate"><span class="pre">filtered</span></code> stage dynamic columns as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Items</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Items</span> <span class="n">price</span> <span class="n">COLUMN_SCALAR</span> <span class="n">UInt32</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Items</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">150</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">250</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">300</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Items</span> \
  <span class="o">--</span><span class="nb">filter</span> <span class="s2">&quot;price &gt;= 150&quot;</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">price_with_tax</span><span class="p">]</span><span class="o">.</span><span class="n">stage</span> <span class="n">filtered</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">price_with_tax</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="n">UInt32</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">price_with_tax</span><span class="p">]</span><span class="o">.</span><span class="n">flags</span> <span class="n">COLUMN_SCALAR</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">price_with_tax</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="s2">&quot;price * 1.1&quot;</span> \
  <span class="o">--</span><span class="n">post_filter</span> <span class="s2">&quot;price_with_tax &lt;= 250&quot;</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">0.0</span><span class="p">,</span>
    <span class="mf">0.0</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">2</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;_id&quot;</span><span class="p">,</span>
          <span class="s2">&quot;UInt32&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;price_with_tax&quot;</span><span class="p">,</span>
          <span class="s2">&quot;UInt32&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;price&quot;</span><span class="p">,</span>
          <span class="s2">&quot;UInt32&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="mi">2</span><span class="p">,</span>
        <span class="mi">165</span><span class="p">,</span>
        <span class="mi">150</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="mi">3</span><span class="p">,</span>
        <span class="mi">220</span><span class="p">,</span>
        <span class="mi">200</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>] Added support for <code class="docutils literal notranslate"><span class="pre">--slices[].post_filter</span></code>.</p>
<ul>
<li><p>We can use <code class="docutils literal notranslate"><span class="pre">post_filter</span></code> to filter by <code class="docutils literal notranslate"><span class="pre">--slices[].filter</span></code> as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Items</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Items</span> <span class="n">price</span> <span class="n">COLUMN_SCALAR</span> <span class="n">UInt32</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Items</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">300</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">2000</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">3000</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Items</span> \
  <span class="o">--</span><span class="n">slices</span><span class="p">[</span><span class="n">expensive</span><span class="p">]</span><span class="o">.</span><span class="n">filter</span> <span class="s1">&#39;price &gt;= 1000&#39;</span> \
  <span class="o">--</span><span class="n">slices</span><span class="p">[</span><span class="n">expensive</span><span class="p">]</span><span class="o">.</span><span class="n">post_filter</span> <span class="s1">&#39;price &lt; 3000&#39;</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">0.0</span><span class="p">,</span>
    <span class="mf">0.0</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">6</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;_id&quot;</span><span class="p">,</span>
          <span class="s2">&quot;UInt32&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;price&quot;</span><span class="p">,</span>
          <span class="s2">&quot;UInt32&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">100</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="mi">2</span><span class="p">,</span>
        <span class="mi">200</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="mi">3</span><span class="p">,</span>
        <span class="mi">300</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="mi">4</span><span class="p">,</span>
        <span class="mi">1000</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="mi">5</span><span class="p">,</span>
        <span class="mi">2000</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="mi">6</span><span class="p">,</span>
        <span class="mi">3000</span>
      <span class="p">]</span>
    <span class="p">],</span>
    <span class="p">{</span>
      <span class="s2">&quot;expensive&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span>
          <span class="mi">2</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="p">[</span>
            <span class="s2">&quot;_id&quot;</span><span class="p">,</span>
            <span class="s2">&quot;UInt32&quot;</span>
          <span class="p">],</span>
          <span class="p">[</span>
            <span class="s2">&quot;price&quot;</span><span class="p">,</span>
            <span class="s2">&quot;UInt32&quot;</span>
          <span class="p">]</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="mi">4</span><span class="p">,</span>
          <span class="mi">1000</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="mi">5</span><span class="p">,</span>
          <span class="mi">2000</span>
        <span class="p">]</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>] Added support for describing expression into <code class="docutils literal notranslate"><span class="pre">--sort_keys</span></code>.</p>
<ul>
<li><p>We can describe the expression into <code class="docutils literal notranslate"><span class="pre">--sort_keys</span></code>.</p>
<ul class="simple">
<li><p>If nonexistent keys into expression as a <code class="docutils literal notranslate"><span class="pre">--sort_keys</span></code>, they are ignored and outputted warns into a log.</p></li>
</ul>
</li>
<li><p>By this, for example, we can specify a value of an element of <code class="docutils literal notranslate"><span class="pre">VECTOR</span> <span class="pre">COLUMN</span></code> to <code class="docutils literal notranslate"><span class="pre">--sort_keys</span></code>. And we can sort a result with it.</p></li>
<li><p>We can sort a result with an element of <code class="docutils literal notranslate"><span class="pre">VECTOR</span> <span class="pre">COLUMN</span></code> even if the before version by using dynamic column.
However, we can sort a result with an element of <code class="docutils literal notranslate"><span class="pre">VECTOR</span> <span class="pre">COLUMN</span></code> without using dynamic column by this feature.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Values</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Values</span> <span class="n">numbers</span> <span class="n">COLUMN_VECTOR</span> <span class="n">Int32</span>
<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Values</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;numbers&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">127</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">129</span><span class="p">]},</span>
<span class="p">{</span><span class="s2">&quot;numbers&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">126</span><span class="p">,</span> <span class="mi">255</span><span class="p">]},</span>
<span class="p">{</span><span class="s2">&quot;numbers&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">128</span><span class="p">,</span> <span class="o">-</span><span class="mi">254</span><span class="p">]}</span>
<span class="p">]</span>
<span class="n">select</span> <span class="n">Values</span> <span class="o">--</span><span class="n">sort_keys</span> <span class="s1">&#39;numbers[1]&#39;</span> <span class="o">--</span><span class="n">output_columns</span> <span class="n">numbers</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">0.0</span><span class="p">,</span>
    <span class="mf">0.0</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">3</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;numbers&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Int32&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="mi">128</span><span class="p">,</span>
          <span class="o">-</span><span class="mi">254</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="mi">127</span><span class="p">,</span>
          <span class="mi">128</span><span class="p">,</span>
          <span class="mi">129</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="mi">126</span><span class="p">,</span>
          <span class="mi">255</span>
        <span class="p">]</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../reference/token_filters.html"><span class="doc">Token filters</span></a>] Added support for multiple token filters with options.</p>
<ul class="simple">
<li><p>We can specify multiple token filters with options like <code class="docutils literal notranslate"><span class="pre">--token_filters</span> <span class="pre">'TokenFilterStopWord(&quot;column&quot;,</span> <span class="pre">&quot;ignore&quot;),</span> <span class="pre">TokenFilterNFKC130(&quot;unify_kana&quot;,</span> <span class="pre">true)'</span></code>. [Github#mroonga/mroonga#399][Reported by MASUDA Kazuhiro]</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../reference/functions/query.html"><span class="doc">query</span></a>] Added support a dynamic column of <code class="docutils literal notranslate"><span class="pre">result_set</span></code> stage with complex expression.</p>
<ul>
<li><p>Complex expression is that it needs temporary result sets internally like a following expression.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;(true &amp;&amp; query(&quot;name * 10&quot;, &quot;ali&quot;, {&quot;score_column&quot;: &quot;ali_score&quot;})) || </span><span class="se">\</span>
<span class="s1"> (true &amp;&amp; query(&quot;name * 2&quot;, &quot;li&quot;, {&quot;score_column&quot;: &quot;li_score&quot;}))&#39;</span>
</pre></div>
</div>
<ul>
<li><p>In the above expressions, the temporary result sets are used to store the result of evaluating the <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p>Therefore, for example, in the following expression, we can use a value of dynamic column of <code class="docutils literal notranslate"><span class="pre">result_set</span></code> stage in expression. Because temporary result sets internally are needless as below expression.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;(query(&quot;name * 10&quot;, &quot;ali&quot;, {&quot;score_column&quot;: &quot;ali_score&quot;})) || </span><span class="se">\</span>
<span class="s1"> (query(&quot;name * 2&quot;, &quot;li&quot;, {&quot;score_column&quot;: &quot;li_score&quot;}))&#39;</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>In this release, for example, we can set a value to <code class="docutils literal notranslate"><span class="pre">li_score</span></code> as below. (The value of <code class="docutils literal notranslate"><span class="pre">li_score</span></code> had been <code class="docutils literal notranslate"><span class="pre">0</span></code> in before version. Because the second expression could not get dynamic column.)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Users</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Users</span> <span class="n">name</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>

<span class="n">table_create</span> <span class="n">Lexicon</span> <span class="n">TABLE_HASH_KEY</span> <span class="n">ShortText</span> \
  <span class="o">--</span><span class="n">default_tokenizer</span> <span class="n">TokenBigramSplitSymbolAlphaDigit</span> \
  <span class="o">--</span><span class="n">normalizer</span> <span class="n">NormalizerAuto</span>
<span class="n">column_create</span> <span class="n">Lexicon</span> <span class="n">users_name</span> <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> <span class="n">Users</span> <span class="n">name</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Users</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Alice&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Alisa&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Bob&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Users</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">ali_score</span><span class="p">]</span><span class="o">.</span><span class="n">stage</span> <span class="n">result_set</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">ali_score</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="n">Float</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">ali_score</span><span class="p">]</span><span class="o">.</span><span class="n">flags</span> <span class="n">COLUMN_SCALAR</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">li_score</span><span class="p">]</span><span class="o">.</span><span class="n">stage</span> <span class="n">result_set</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">li_score</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="n">Float</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">li_score</span><span class="p">]</span><span class="o">.</span><span class="n">flags</span> <span class="n">COLUMN_SCALAR</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">name</span><span class="p">,</span><span class="n">_score</span><span class="p">,</span><span class="n">ali_score</span><span class="p">,</span><span class="n">li_score</span> \
  <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;(true &amp;&amp; query(&quot;name * 10&quot;, &quot;ali&quot;, {&quot;score_column&quot;: &quot;ali_score&quot;})) || </span><span class="se">\</span>
<span class="s1">            (true &amp;&amp; query(&quot;name * 2&quot;, &quot;li&quot;, {&quot;score_column&quot;: &quot;li_score&quot;}))&#39;</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">0.0</span><span class="p">,</span>
    <span class="mf">0.0</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">2</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;name&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;_score&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Int32&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;ali_score&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Float&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;li_score&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Float&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;Alice&quot;</span><span class="p">,</span>
        <span class="mi">14</span><span class="p">,</span>
        <span class="mf">10.0</span><span class="p">,</span>
        <span class="mf">2.0</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;Alisa&quot;</span><span class="p">,</span>
        <span class="mi">14</span><span class="p">,</span>
        <span class="mf">10.0</span><span class="p">,</span>
        <span class="mf">2.0</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>We also supported a dynamic vector column of <code class="docutils literal notranslate"><span class="pre">result_set</span></code> stage as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Users</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Users</span> <span class="n">name</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>

<span class="n">table_create</span> <span class="n">Lexicon</span> <span class="n">TABLE_HASH_KEY</span> <span class="n">ShortText</span> \
  <span class="o">--</span><span class="n">default_tokenizer</span> <span class="n">TokenBigramSplitSymbolAlphaDigit</span> \
  <span class="o">--</span><span class="n">normalizer</span> <span class="n">NormalizerAuto</span>
<span class="n">column_create</span> <span class="n">Lexicon</span> <span class="n">users_name</span> <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> <span class="n">Users</span> <span class="n">name</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Users</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Alice&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Alisa&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Bob&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Users</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">tags</span><span class="p">]</span><span class="o">.</span><span class="n">stage</span> <span class="n">result_set</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">tags</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="n">ShortText</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">tags</span><span class="p">]</span><span class="o">.</span><span class="n">flags</span> <span class="n">COLUMN_VECTOR</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">name</span><span class="p">,</span><span class="n">tags</span> \
  <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;(true &amp;&amp; query(&quot;name&quot;, &quot;al&quot;, {&quot;tags&quot;: [&quot;al&quot;], &quot;tags_column&quot;: &quot;tags&quot;})) || </span><span class="se">\</span>
<span class="s1">            (true &amp;&amp; query(&quot;name&quot;, &quot;sa&quot;, {&quot;tags&quot;: [&quot;sa&quot;], &quot;tags_column&quot;: &quot;tags&quot;}))&#39;</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">0.0</span><span class="p">,</span>
    <span class="mf">0.0</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">2</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;name&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;tags&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;Alice&quot;</span><span class="p">,</span>
        <span class="p">[</span>
          <span class="s2">&quot;al&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;Alisa&quot;</span><span class="p">,</span>
        <span class="p">[</span>
          <span class="s2">&quot;al&quot;</span><span class="p">,</span>
          <span class="s2">&quot;sa&quot;</span>
        <span class="p">]</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>If we use a dynamic vector column, the storing values are appended values of each element.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../install/ubuntu.html"><span class="doc">Ubuntu</span></a>] Added support for Ubuntu 21.04 (Hirsute Hippo).</p></li>
<li><p>[httpd] Updated bundled nginx to 1.19.10.</p></li>
</ul>
</section>
<section id="id32">
<h3>Known Issues<a class="headerlink" href="#id32" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Currently, Groonga has a bug that there is possible that data is corrupt when we execute many additions, delete, and update data to vector column.</p></li>
<li><p>[The browser based administration tool] Currently, Groonga has a bug that a search query that is inputted to non-administration mode is sent even if we input checks to the checkbox for the administration mode of a record list. [Github#1186][Reported by poti]</p></li>
</ul>
</section>
<section id="id33">
<h3>Thanks<a class="headerlink" href="#id33" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Anthony M. Cook</p></li>
<li><p>MASUDA Kazuhiro</p></li>
<li><p>poti</p></li>
</ul>
</section>
</section>
<section id="release-11-0-1-2021-03-31">
<span id="release-11-0-1"></span><h2>Release 11.0.1 - 2021-03-31<a class="headerlink" href="#release-11-0-1-2021-03-31" title="Link to this heading">#</a></h2>
<section id="id34">
<h3>Improvements<a class="headerlink" href="#id34" title="Link to this heading">#</a></h3>
<ul>
<li><p>[<a class="reference internal" href="../install/debian.html"><span class="doc">Debian GNU/Linux</span></a>] Added support for a ARM64 package.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>] Added support for customizing adjust weight every key word.</p>
<ul class="simple">
<li><p>We need to specify <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> or <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> to all keywords to adjust scores until now.
Because the default adjustment of weight (6 or 4) is larger than the default score (1).</p>
<ul>
<li><p>Therefore, for example, “A“‘s weight is 1 and “B“‘s weight is 4 in <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&lt;B</span></code>.
Decremented “B“‘s weight (4) is larger than not decremented “A“‘s weight (1).
This is not works as expected.
we need to specify <code class="docutils literal notranslate"><span class="pre">&gt;A</span> <span class="pre">&lt;B</span></code> to use smaller weight than “A” for “B”.
“A“‘s weight is 6 and “B“‘s weight is 4 in <code class="docutils literal notranslate"><span class="pre">&gt;A</span> <span class="pre">&lt;B</span></code>.</p></li>
</ul>
</li>
<li><p>We can customize adjustment of weight every key word by only specifying <code class="docutils literal notranslate"><span class="pre">&lt;${WEIGHT}</span></code> or <code class="docutils literal notranslate"><span class="pre">&gt;${WEIGHT}</span></code> to target keywords since this release.
For example, “A“‘s weight is 1 and “B“‘s weight is 0.9 in <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&lt;0.1B</span></code> (“B“‘s weight decrement 0.1).</p></li>
<li><p>However, note that these forms ( <code class="docutils literal notranslate"><span class="pre">&gt;${WEIGHT}...</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;${WEIGHT}...</span></code>, and <code class="docutils literal notranslate"><span class="pre">~${WEIGHT}...</span></code> ) are incompatible.</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>] Added support for outputting <code class="docutils literal notranslate"><span class="pre">Float</span></code> and <code class="docutils literal notranslate"><span class="pre">Float32</span></code> value in Apache Arrow format.</p>
<ul class="simple">
<li><p>For example, Groonga output as below.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Data</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Data</span> <span class="nb">float</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Float</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Data</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;float&quot;</span><span class="p">:</span> <span class="mf">1.1</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Data</span> \
  <span class="o">--</span><span class="n">command_version</span> <span class="mi">3</span> \
  <span class="o">--</span><span class="n">output_type</span> <span class="n">apache</span><span class="o">-</span><span class="n">arrow</span>

  <span class="n">return_code</span><span class="p">:</span> <span class="n">int32</span>
  <span class="n">start_time</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">[</span><span class="n">ns</span><span class="p">]</span>
  <span class="n">elapsed_time</span><span class="p">:</span> <span class="n">double</span>
  <span class="o">--</span> <span class="n">metadata</span> <span class="o">--</span>
  <span class="n">GROONGA</span><span class="p">:</span><span class="n">data_type</span><span class="p">:</span> <span class="n">metadata</span>
   <span class="n">return_code</span>                    <span class="n">start_time</span>       <span class="n">elapsed_time</span>
  <span class="mi">0</span>                  <span class="mi">0</span>     <span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T09</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">09</span><span class="p">:</span><span class="mi">00</span>           <span class="mf">0.000000</span>
  <span class="o">========================================</span>
  <span class="n">_id</span><span class="p">:</span> <span class="n">uint32</span>
  <span class="nb">float</span><span class="p">:</span> <span class="n">double</span>
  <span class="o">--</span> <span class="n">metadata</span> <span class="o">--</span>
  <span class="n">GROONGA</span><span class="p">:</span><span class="n">n_hits</span><span class="p">:</span> <span class="mi">1</span>
   <span class="n">_id</span>          <span class="nb">float</span>
  <span class="mi">0</span>          <span class="mi">1</span>       <span class="mf">1.100000</span>
</pre></div>
</div>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>] Added support for getting a reference destination data via index column when we output a result.</p>
<ul>
<li><p>Until now, Groonga had returned involuntary value when we specified output value like <code class="docutils literal notranslate"><span class="pre">index_column.xxx</span></code>.
For example, A value of <code class="docutils literal notranslate"><span class="pre">--columns[tags].value</span> <span class="pre">purchases.tag</span></code> was <code class="docutils literal notranslate"><span class="pre">[&quot;apple&quot;,[&quot;many&quot;]],[&quot;banana&quot;,[&quot;man&quot;]],[&quot;cacao&quot;,[&quot;man&quot;]]</span></code> in the following example. In this case, the expected values was <code class="docutils literal notranslate"><span class="pre">[&quot;apple&quot;,[&quot;man&quot;,&quot;many&quot;]],[&quot;banana&quot;,[&quot;man&quot;]],[&quot;cacao&quot;,[&quot;woman&quot;]]</span></code>.
In this release, we can get a correct reference destination data via index column as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Products</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span>

<span class="n">table_create</span> <span class="n">Purchases</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Purchases</span> <span class="n">product</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Products</span>
<span class="n">column_create</span> <span class="n">Purchases</span> <span class="n">tag</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>

<span class="n">column_create</span> <span class="n">Products</span> <span class="n">purchases</span> <span class="n">COLUMN_INDEX</span> <span class="n">Purchases</span> <span class="n">product</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Products</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;apple&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;banana&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;cacao&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Purchases</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;product&quot;</span><span class="p">:</span> <span class="s2">&quot;apple&quot;</span><span class="p">,</span>  <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;man&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;product&quot;</span><span class="p">:</span> <span class="s2">&quot;banana&quot;</span><span class="p">,</span> <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;man&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;product&quot;</span><span class="p">:</span> <span class="s2">&quot;cacao&quot;</span><span class="p">,</span>  <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;woman&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;product&quot;</span><span class="p">:</span> <span class="s2">&quot;apple&quot;</span><span class="p">,</span>  <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;many&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Products</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">tags</span><span class="p">]</span><span class="o">.</span><span class="n">stage</span> <span class="n">output</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">tags</span><span class="p">]</span><span class="o">.</span><span class="n">flags</span> <span class="n">COLUMN_VECTOR</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">tags</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="n">ShortText</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">tags</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="n">purchases</span><span class="o">.</span><span class="n">tag</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">tags</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">0.0</span><span class="p">,</span>
    <span class="mf">0.0</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">3</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;_key&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;tags&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;apple&quot;</span><span class="p">,</span>
        <span class="p">[</span>
          <span class="s2">&quot;man&quot;</span><span class="p">,</span>
          <span class="s2">&quot;many&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;banana&quot;</span><span class="p">,</span>
        <span class="p">[</span>
          <span class="s2">&quot;man&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;cacao&quot;</span><span class="p">,</span>
        <span class="p">[</span>
          <span class="s2">&quot;woman&quot;</span>
        <span class="p">]</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>] Added support for specifying index column directly as a part of nested index.</p>
<ul>
<li><p>We can search source table after filtering by using <code class="docutils literal notranslate"><span class="pre">index_column.except_source_column</span></code>.
For example, we specify <code class="docutils literal notranslate"><span class="pre">comments.content</span></code> when searching in the following example.
In this case, at first, this query execute full text search from <code class="docutils literal notranslate"><span class="pre">content</span></code> column of <code class="docutils literal notranslate"><span class="pre">Commentts</span></code> table, then fetch the records of Articles table which refers to already searched records of Comments table.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Articles</span> <span class="n">TABLE_HASH_KEY</span> <span class="n">ShortText</span>

<span class="n">table_create</span> <span class="n">Comments</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Comments</span> <span class="n">article</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Articles</span>
<span class="n">column_create</span> <span class="n">Comments</span> <span class="n">content</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>

<span class="n">column_create</span> <span class="n">Articles</span> <span class="n">content</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Text</span>
<span class="n">column_create</span> <span class="n">Articles</span> <span class="n">comments</span> <span class="n">COLUMN_INDEX</span> <span class="n">Comments</span> <span class="n">article</span>

<span class="n">table_create</span> <span class="n">Terms</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span> \
  <span class="o">--</span><span class="n">default_tokenizer</span> <span class="n">TokenBigram</span> \
  <span class="o">--</span><span class="n">normalizer</span> <span class="n">NormalizerNFKC130</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">articles_content</span> <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> \
  <span class="n">Articles</span> <span class="n">content</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">comments_content</span> <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> \
  <span class="n">Comments</span> <span class="n">content</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Articles</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;article-1&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Groonga is fast!&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;article-2&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Groonga is useful!&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;article-3&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Mroonga is fast!&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Comments</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;article&quot;</span><span class="p">:</span> <span class="s2">&quot;article-1&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;I&#39;m using Groonga too!&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;article&quot;</span><span class="p">:</span> <span class="s2">&quot;article-3&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;I&#39;m using Mroonga!&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;article&quot;</span><span class="p">:</span> <span class="s2">&quot;article-1&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;I&#39;m using PGroonga!&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Articles</span> <span class="o">--</span><span class="n">match_columns</span> <span class="n">comments</span><span class="o">.</span><span class="n">content</span> <span class="o">--</span><span class="n">query</span> <span class="n">groonga</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="s2">&quot;_key, _score, comments.content</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">0.0</span><span class="p">,</span>
    <span class="mf">0.0</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">1</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;_key&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;_score&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Int32&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;comments.content&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;article-1&quot;</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="p">[</span>
          <span class="s2">&quot;I&#39;m using Groonga too!&quot;</span><span class="p">,</span>
          <span class="s2">&quot;I&#39;m using PGroonga!&quot;</span>
        <span class="p">]</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/load.html"><span class="doc">load</span></a>] Added support for loading reference vector with inline object literal.</p>
<ul>
<li><p>For example, we can load data like <code class="docutils literal notranslate"><span class="pre">&quot;key&quot;</span> <span class="pre">:</span> <span class="pre">&quot;[</span> <span class="pre">{</span> <span class="pre">&quot;key&quot;</span> <span class="pre">:</span> <span class="pre">&quot;value&quot;,</span> <span class="pre">...,</span> <span class="pre">&quot;key&quot;</span> <span class="pre">:</span> <span class="pre">&quot;value&quot;</span> <span class="pre">}</span> <span class="pre">]&quot;</span></code> as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Purchases</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Purchases</span> <span class="n">item</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>
<span class="n">column_create</span> <span class="n">Purchases</span> <span class="n">price</span> <span class="n">COLUMN_SCALAR</span> <span class="n">UInt32</span>

<span class="n">table_create</span> <span class="n">Settlements</span> <span class="n">TABLE_HASH_KEY</span> <span class="n">ShortText</span>
<span class="n">column_create</span> <span class="n">Settlements</span> <span class="n">purchases</span> <span class="n">COLUMN_VECTOR</span> <span class="n">Purchases</span>
<span class="n">column_create</span> <span class="n">Purchases</span> <span class="n">settlements_purchases</span> <span class="n">COLUMN_INDEX</span> <span class="n">Settlements</span> <span class="n">purchases</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Settlements</span>
<span class="p">[</span>
<span class="p">{</span>
  <span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;super market&quot;</span><span class="p">,</span>
  <span class="s2">&quot;purchases&quot;</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span><span class="s2">&quot;item&quot;</span><span class="p">:</span> <span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span>
     <span class="p">{</span><span class="s2">&quot;item&quot;</span><span class="p">:</span> <span class="s2">&quot;milk&quot;</span><span class="p">,</span>  <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">}</span>
  <span class="p">]</span>
<span class="p">},</span>
<span class="p">{</span>
  <span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;shoes shop&quot;</span><span class="p">,</span>
  <span class="s2">&quot;purchases&quot;</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span><span class="s2">&quot;item&quot;</span><span class="p">:</span> <span class="s2">&quot;sneakers&quot;</span><span class="p">,</span> <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">3000</span><span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>It makes easier to add JSON data into reference columns by this feature.</p></li>
<li><p>Currently, this feature only support with JSON input.</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/load.html"><span class="doc">load</span></a>] Added support for loading reference vector from JSON text.</p>
<ul>
<li><p>We can load data to reference vector from source table with JSON text as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Purchases</span> <span class="n">TABLE_HASH_KEY</span> <span class="n">ShortText</span>
<span class="n">column_create</span> <span class="n">Purchases</span> <span class="n">item</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>
<span class="n">column_create</span> <span class="n">Purchases</span> <span class="n">price</span> <span class="n">COLUMN_SCALAR</span> <span class="n">UInt32</span>

<span class="n">table_create</span> <span class="n">Settlements</span> <span class="n">TABLE_HASH_KEY</span> <span class="n">ShortText</span>
<span class="n">column_create</span> <span class="n">Settlements</span> <span class="n">purchases</span> <span class="n">COLUMN_VECTOR</span> <span class="n">Purchases</span>

<span class="n">column_create</span> <span class="n">Purchases</span> <span class="n">settlements_purchases</span> <span class="n">COLUMN_INDEX</span> <span class="n">Settlements</span> <span class="n">purchases</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Settlements</span>
<span class="p">[</span>
<span class="p">{</span>
  <span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;super market&quot;</span><span class="p">,</span>
  <span class="s2">&quot;purchases&quot;</span><span class="p">:</span> <span class="s2">&quot;[{</span><span class="se">\&quot;</span><span class="s2">_key</span><span class="se">\&quot;</span><span class="s2">: </span><span class="se">\&quot;</span><span class="s2">super market-1</span><span class="se">\&quot;</span><span class="s2">, </span><span class="se">\&quot;</span><span class="s2">item</span><span class="se">\&quot;</span><span class="s2">: </span><span class="se">\&quot;</span><span class="s2">apple</span><span class="se">\&quot;</span><span class="s2">, </span><span class="se">\&quot;</span><span class="s2">price</span><span class="se">\&quot;</span><span class="s2">: 100}, {</span><span class="se">\&quot;</span><span class="s2">_key</span><span class="se">\&quot;</span><span class="s2">: </span><span class="se">\&quot;</span><span class="s2">super market-2</span><span class="se">\&quot;</span><span class="s2">, </span><span class="se">\&quot;</span><span class="s2">item</span><span class="se">\&quot;</span><span class="s2">: </span><span class="se">\&quot;</span><span class="s2">milk</span><span class="se">\&quot;</span><span class="s2">,  </span><span class="se">\&quot;</span><span class="s2">price</span><span class="se">\&quot;</span><span class="s2">: 200}]&quot;</span>
<span class="p">},</span>
<span class="p">{</span>
  <span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;shoes shop&quot;</span><span class="p">,</span>
  <span class="s2">&quot;purchases&quot;</span><span class="p">:</span> <span class="s2">&quot;[{</span><span class="se">\&quot;</span><span class="s2">_key</span><span class="se">\&quot;</span><span class="s2">: </span><span class="se">\&quot;</span><span class="s2">shoes shop-1</span><span class="se">\&quot;</span><span class="s2">, </span><span class="se">\&quot;</span><span class="s2">item</span><span class="se">\&quot;</span><span class="s2">: </span><span class="se">\&quot;</span><span class="s2">sneakers</span><span class="se">\&quot;</span><span class="s2">, </span><span class="se">\&quot;</span><span class="s2">price</span><span class="se">\&quot;</span><span class="s2">: 3000}]&quot;</span>
<span class="p">}</span>
<span class="p">]</span>

<span class="n">dump</span> \
  <span class="o">--</span><span class="n">dump_plugins</span> <span class="n">no</span> \
  <span class="o">--</span><span class="n">dump_schema</span> <span class="n">no</span>
<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Purchases</span>
<span class="p">[</span>
<span class="p">[</span><span class="s2">&quot;_key&quot;</span><span class="p">,</span><span class="s2">&quot;item&quot;</span><span class="p">,</span><span class="s2">&quot;price&quot;</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;super market-1&quot;</span><span class="p">,</span><span class="s2">&quot;apple&quot;</span><span class="p">,</span><span class="mi">100</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;super market-2&quot;</span><span class="p">,</span><span class="s2">&quot;milk&quot;</span><span class="p">,</span><span class="mi">200</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;shoes shop-1&quot;</span><span class="p">,</span><span class="s2">&quot;sneakers&quot;</span><span class="p">,</span><span class="mi">3000</span><span class="p">]</span>
<span class="p">]</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Settlements</span>
<span class="p">[</span>
<span class="p">[</span><span class="s2">&quot;_key&quot;</span><span class="p">,</span><span class="s2">&quot;purchases&quot;</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;super market&quot;</span><span class="p">,[</span><span class="s2">&quot;super market-1&quot;</span><span class="p">,</span><span class="s2">&quot;super market-2&quot;</span><span class="p">]],</span>
<span class="p">[</span><span class="s2">&quot;shoes shop&quot;</span><span class="p">,[</span><span class="s2">&quot;shoes shop-1&quot;</span><span class="p">]]</span>
<span class="p">]</span>

<span class="n">column_create</span> <span class="n">Purchases</span> <span class="n">settlements_purchases</span> <span class="n">COLUMN_INDEX</span> <span class="n">Settlements</span> <span class="n">purchases</span>
</pre></div>
</div>
</li>
<li><p>Currently, this feature doesn’t support nested reference record.</p></li>
</ul>
</li>
<li><p>[Windows] Added support for UNIX epoch for <code class="docutils literal notranslate"><span class="pre">time_classify_*</span></code> functions.</p>
<ul>
<li><p>Groonga handles timestamps on local time. Therefore, for example, if we input the UNIX epoch in Japan, inputting time is 9 hours behind the UNIX epoch.</p></li>
<li><p>The Windows API outputs an error when we input the time before the UNIX epoch.</p></li>
<li><p>We can use the UNIX epoch in <code class="docutils literal notranslate"><span class="pre">time_classify_*</span></code> functions as below in this release.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plugin_register</span> <span class="n">functions</span><span class="o">/</span><span class="n">time</span>

<span class="n">table_create</span> <span class="n">Timestamps</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">Time</span>
<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Timestamps</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-05-06 00:00:00.000001&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-05-06 23:59:59.999999&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-05-07 00:00:00.000000&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-05-07 00:00:00.000001&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-05-08 23:59:59.999999&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-05-08 00:00:00.000000&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Timestamps</span> \
  <span class="o">--</span><span class="n">sortby</span> <span class="n">_id</span> \
  <span class="o">--</span><span class="n">limit</span> <span class="o">-</span><span class="mi">1</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="s1">&#39;_key, time_classify_day_of_week(_key)&#39;</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">0.0</span><span class="p">,</span>
    <span class="mf">0.0</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">7</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;_key&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Time&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;time_classify_day_of_week&quot;</span><span class="p">,</span>
          <span class="n">null</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="mf">0.0</span><span class="p">,</span>
        <span class="mi">4</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="mf">1462460400.000001</span><span class="p">,</span>
        <span class="mi">5</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="mf">1462546799.999999</span><span class="p">,</span>
        <span class="mi">5</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="mf">1462546800.0</span><span class="p">,</span>
        <span class="mi">6</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="mf">1462546800.000001</span><span class="p">,</span>
        <span class="mi">6</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="mf">1462719599.999999</span><span class="p">,</span>
        <span class="mi">0</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="mf">1462633200.0</span><span class="p">,</span>
        <span class="mi">0</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../reference/functions/query_parallel_or.html"><span class="doc">query_parallel_or</span></a>] Added a new function for processing queries in parallel.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">query_parallel_or</span></code> requires Apache Arrow for processing queries in parallel.
If it does not enable, <code class="docutils literal notranslate"><span class="pre">query_parallel_or</span></code> processes queries in sequence.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">query_parallel_or</span></code> processes combination of <code class="docutils literal notranslate"><span class="pre">match_columns</span></code> and <code class="docutils literal notranslate"><span class="pre">query_string</span></code> in parallel.</p></li>
<li><p>Syntax of <code class="docutils literal notranslate"><span class="pre">query_parallel_or</span></code> is as follow:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">query_parallel_or</span><span class="p">(</span><span class="n">match_columns</span><span class="p">,</span> <span class="n">query_string1</span><span class="p">,</span>
                                 <span class="n">query_string2</span><span class="p">,</span>
                                 <span class="o">.</span>
                                 <span class="o">.</span>
                                 <span class="o">.</span>
                                 <span class="n">query_stringN</span><span class="p">,</span>
                                 <span class="p">{</span><span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">})</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>] Added support for ignoring nonexistent sort keys.</p>
<ul class="simple">
<li><p>Groonga had been outputted error when we specified nonexistent sort keys until now.
However, Groonga ignore nonexistent sort keys since this release. (Groonga doesn’t output error.)</p></li>
<li><p>This feature implements for consistency.
Because we just ignore invalid values in <code class="docutils literal notranslate"><span class="pre">output_columns</span></code> and most of invalid values in <code class="docutils literal notranslate"><span class="pre">sort_keys</span></code>.</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>] Added support for ignoring nonexistent tables in <code class="docutils literal notranslate"><span class="pre">drilldowns[].table</span></code>. [GitHub#1169][Reported by naoa]</p>
<ul class="simple">
<li><p>Groonga had been outputted error when we specified nonexistent tables in <code class="docutils literal notranslate"><span class="pre">drilldowns[].table</span></code> until now.
However, Groonga ignore nonexistent tables in <code class="docutils literal notranslate"><span class="pre">drilldowns[].table</span></code> since this release. (Groonga doesn’t output error.)</p></li>
<li><p>This feature implements for consistency.
Because we just ignore invalid values in <code class="docutils literal notranslate"><span class="pre">output_columns</span></code> and most of invalid values in <code class="docutils literal notranslate"><span class="pre">sort_keys</span></code>.</p></li>
</ul>
</li>
<li><p>[httpd] Updated bundled nginx to 1.19.8.</p></li>
</ul>
</section>
<section id="id35">
<h3>Fixes<a class="headerlink" href="#id35" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="../reference/commands/reference_acquire.html"><span class="doc">reference_acquire</span></a>] Fixed a bug that Groonga crash when a table’s reference is acquired and a column is added to the table before auto release is happened.</p>
<ul>
<li><p>Because the added column’s reference isn’t acquired but it’s released on auto release.</p></li>
</ul>
</li>
<li><p>[Windows] Fixed a bug that one or more processes fail an output backtrace on SEGV when a new backtrace logging process starts when another backtrace logging process is running in another thread.</p></li>
</ul>
</section>
<section id="id36">
<h3>Known Issues<a class="headerlink" href="#id36" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Currently, Groonga has a bug that there is possible that data is corrupt when we execute many additions, delete, and update data to vector column.</p></li>
</ul>
</section>
<section id="id37">
<h3>Thanks<a class="headerlink" href="#id37" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>naoa</p></li>
</ul>
</section>
</section>
<section id="release-11-0-0-2021-02-09">
<span id="release-11-0-0"></span><h2>Release 11.0.0 - 2021-02-09<a class="headerlink" href="#release-11-0-0-2021-02-09" title="Link to this heading">#</a></h2>
<p>This is a major version up! But It keeps backward compatibility. We can upgrade to 11.0.0 without rebuilding database.</p>
<section id="id38">
<h3>Improvements<a class="headerlink" href="#id38" title="Link to this heading">#</a></h3>
<ul>
<li><p>[<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>] Added support for outputting values of scalar column and vector column via nested index.</p>
<ul>
<li><p>The nested index is that has structure as below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Products</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span>

<span class="n">table_create</span> <span class="n">Purchases</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Purchases</span> <span class="n">product</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Products</span>
<span class="n">column_create</span> <span class="n">Purchases</span> <span class="n">tag</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>

<span class="n">column_create</span> <span class="n">Products</span> <span class="n">purchases</span> <span class="n">COLUMN_INDEX</span> <span class="n">Purchases</span> <span class="n">product</span>
</pre></div>
</div>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Products.purchases</span></code> column is a index of <code class="docutils literal notranslate"><span class="pre">Purchases.product</span></code> column in the above example.
Also, <code class="docutils literal notranslate"><span class="pre">Purchases.product</span></code> is a reference to <code class="docutils literal notranslate"><span class="pre">Products</span></code> table.</p></li>
<li><p>We had not got the correct search result when we search via nested index until now.</p></li>
<li><p>The result had been as follows until now. We can see that <code class="docutils literal notranslate"><span class="pre">{&quot;product&quot;:</span> <span class="pre">&quot;apple&quot;,</span>&#160; <span class="pre">&quot;tag&quot;:</span> <span class="pre">&quot;man&quot;}</span></code> is not output.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Products</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span>

<span class="n">table_create</span> <span class="n">Purchases</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Purchases</span> <span class="n">product</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Products</span>
<span class="n">column_create</span> <span class="n">Purchases</span> <span class="n">tag</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>

<span class="n">column_create</span> <span class="n">Products</span> <span class="n">purchases</span> <span class="n">COLUMN_INDEX</span> <span class="n">Purchases</span> <span class="n">product</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Products</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;apple&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;banana&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;cacao&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Purchases</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;product&quot;</span><span class="p">:</span> <span class="s2">&quot;apple&quot;</span><span class="p">,</span>  <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;man&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;product&quot;</span><span class="p">:</span> <span class="s2">&quot;banana&quot;</span><span class="p">,</span> <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;man&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;product&quot;</span><span class="p">:</span> <span class="s2">&quot;cacao&quot;</span><span class="p">,</span>  <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;woman&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;product&quot;</span><span class="p">:</span> <span class="s2">&quot;apple&quot;</span><span class="p">,</span>  <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;many&quot;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Products</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">purchases</span><span class="o">.</span><span class="n">tag</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">1612504193.380738</span><span class="p">,</span>
    <span class="mf">0.0002026557922363281</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">3</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;_key&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;purchases.tag&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;apple&quot;</span><span class="p">,</span>
        <span class="s2">&quot;many&quot;</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;banana&quot;</span><span class="p">,</span>
        <span class="s2">&quot;man&quot;</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;cacao&quot;</span><span class="p">,</span>
        <span class="s2">&quot;man&quot;</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>The result will be as follows from this release. We can see that <code class="docutils literal notranslate"><span class="pre">{&quot;product&quot;:</span> <span class="pre">&quot;apple&quot;,</span>&#160; <span class="pre">&quot;tag&quot;:</span> <span class="pre">&quot;man&quot;}</span></code> is output.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Products</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">purchases</span><span class="o">.</span><span class="n">tag</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">0.0</span><span class="p">,</span>
    <span class="mf">0.0</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="p">[</span>
        <span class="mi">3</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;_key&quot;</span><span class="p">,</span>
          <span class="s2">&quot;ShortText&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;purchases.tags&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Tags&quot;</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;apple&quot;</span><span class="p">,</span>
        <span class="p">[</span>
          <span class="p">[</span>
            <span class="s2">&quot;man&quot;</span><span class="p">,</span>
            <span class="s2">&quot;one&quot;</span>
          <span class="p">],</span>
          <span class="p">[</span>
            <span class="s2">&quot;child&quot;</span><span class="p">,</span>
            <span class="s2">&quot;many&quot;</span>
          <span class="p">]</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;banana&quot;</span><span class="p">,</span>
        <span class="p">[</span>
          <span class="p">[</span>
            <span class="s2">&quot;man&quot;</span><span class="p">,</span>
            <span class="s2">&quot;many&quot;</span>
          <span class="p">]</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="p">[</span>
        <span class="s2">&quot;cacao&quot;</span><span class="p">,</span>
        <span class="p">[</span>
          <span class="p">[</span>
            <span class="s2">&quot;woman&quot;</span>
          <span class="p">]</span>
        <span class="p">]</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>[Windows] Dropped support for packages of Windows version that we had cross compiled by using MinGW on Linux.</p>
<ul class="simple">
<li><p>Because there aren’t probably many people who use that.</p></li>
<li><p>These above packages are that We had provided as below name until now.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">groonga-x.x.x-x86.exe</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">groonga-x.x.x-x86.zip</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">groonga-x.x.x-x64.exe</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">groonga-x.x.x-x86.zip</span></code></p></li>
</ul>
</li>
<li><p>From now on, we use the following packages for Windows.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">groonga-latest-x86-vs2019-with-vcruntime.zip</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">groonga-latest-x64-vs2019-with-vcruntime.zip</span></code></p></li>
</ul>
</li>
<li><p>If a system already has installed Microsoft Visual C++ Runtime Library, we suggest that we use the following packages.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">groonga-latest-x86-vs2019.zip</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">groonga-latest-x64-vs2019.zip</span></code></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="id39">
<h3>Fixes<a class="headerlink" href="#id39" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Fixed a bug that there is possible that index is corrupt when Groonga executes many additions, delete, and update information in it.</p>
<ul>
<li><p>This bug occurs when we only execute many delete information from index.
However, it doesn’t occur when we only execute many additions information into index.</p></li>
<li><p>We can repair the index that is corrupt by this bug using reconstruction of it.</p></li>
<li><p>This bug doesn’t detect unless we reference the broken index.
Therefore, the index in our indexes may has already broken.</p></li>
<li><p>We can use [<a class="reference internal" href="../reference/commands/index_column_diff.html"><span class="doc">index_column_diff</span></a>] command to confirm whether the index has already been broken or not.</p></li>
</ul>
</li>
</ul>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-11-1-3-2022-01-29">Release 11.1.3 - 2022-01-29</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#improvements">Improvements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fixes">Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#known-issues">Known Issues</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#thanks">Thanks</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-11-1-1-2021-12-29">Release 11.1.1 - 2021-12-29</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Improvements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Known Issues</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Thanks</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-11-1-0-2021-11-29">Release 11.1.0 - 2021-11-29</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Improvements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Known Issues</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Thanks</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-11-0-9-2021-11-04">Release 11.0.9 - 2021-11-04</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">Improvements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">Known Issues</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-11-0-7-2021-09-29">Release 11.0.7 - 2021-09-29</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">Improvements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">Known Issues</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">Thanks</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-11-0-6-2021-08-29">Release 11.0.6 - 2021-08-29</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">Improvements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">Known Issues</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">Thanks</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-11-0-5-2021-07-29">Release 11.0.5 - 2021-07-29</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">Improvements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id21">Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id22">Known Issues</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id23">Thanks</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-11-0-4-2021-06-29">Release 11.0.4 - 2021-06-29</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id24">Improvements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id25">Known Issues</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id26">Thanks</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-11-0-3-2021-05-29">Release 11.0.3 - 2021-05-29</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id27">Improvements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id28">Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id29">Known Issues</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id30">Thanks</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-11-0-2-2021-05-10">Release 11.0.2 - 2021-05-10</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id31">Improvements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id32">Known Issues</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id33">Thanks</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-11-0-1-2021-03-31">Release 11.0.1 - 2021-03-31</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id34">Improvements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id35">Fixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id36">Known Issues</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id37">Thanks</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-11-0-0-2021-02-09">Release 11.0.0 - 2021-02-09</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id38">Improvements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id39">Fixes</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="https://github.com/groonga/groonga/edit/main/doc/source/news/11.rst">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=bd9e20870c6007c4c509"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=bd9e20870c6007c4c509"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2009-2024 Groonga Project.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>